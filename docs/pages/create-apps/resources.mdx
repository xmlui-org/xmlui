import { FileTree } from 'nextra/components'
import { Callout } from 'nextra/components'
import { THEMES_WHAT_A_THEME_CONTAINS } from "../../meta/pages"
import xmluiLogo from "./samples/resources/xmlui-logo.svg";

# Working with Resources

An XMLUI application, being a web application, can use static resources such as images, icons, fonts, etc provided by the application developer.
The XMLUI framework is then able to load these resources and use them seamlessly without the need to define how to load and manage these resources.

## Adding Resources to a Project

The following guide will walk you through adding different kinds of resources to your application and also how to use them.

### The `resources` Folder [#the-resource-folder]

Resources are generally stored in the `resources` folder of an XLMUI project, similar how regular websites store static resources in their public folder.

The first step of adding static resource files to your XMLUI application is moving or copying relevant files such as images to this folder.
Here is an example of how the folder looks like for a simple project.

<FileTree>
  <FileTree.Folder name="resources" defaultOpen>
    <FileTree.File name="favicon.ico" />
    <FileTree.File name="custom-logo.svg" />
    <FileTree.File name="hero-img.jpg" />
    <FileTree.File name="my-font.woff2" />
  </FileTree.Folder>
</FileTree>

### Using Resources Directly

After adding the files you wish to use, you can opt to refer to them directly from code.
This is a fast way to add any static files to your project:

```ueml copy filename="Main.xmlui"
<App
  name="Tutorial"
  logo="resources/custom-logo.svg">
  <AppHeader>
    <H2>Using Resources Tutorial</H2>
  </AppHeader>  
  <Image src="resources/hero-img.jpg" />
</App>
```

<Playground
  previewOnly
  name="Example: Using Resources Directly"
  resources={{ logo: xmluiLogo }}
  height={300}
  app={`
  <App
    name="Tutorial">
    <AppHeader>
      <H2>Using Resources Tutorial</H2>
    </AppHeader>  
    <Image src="/resources/images/components/image/breakfast.jpg" />
  </App>
  `}
/>

### Configuration File

The other way you can refer to resources in your application code is by telling the application where to look for resources and what their handle should be.
This is done in the project configuration file called `config.json` in the project root.

Continuing with the example in the <SmartLink href="#the-resource-folder">The resource Folder</SmartLink> section,
the configuration object in the file gets a `resources` entry which looks like so:

```json copy filename="config.json"
{
  "name": "Tutorial",
  "version": "1.0.0",
  "resources": {
    "favicon": "resources/favicon.ico",
    "icon.custom-logo": "resources/custom-logo.svg",
    "heroImg": "resources/hero-img.jpg"
  }
}
```

### Using Resources

Finally, you can access newly added resources by their handles defined in the configuration object.

```ueml copy filename="Main.xmlui"
<App
  name="Tutorial"
  logo="custom-logo">
  <AppHeader>
    <H2>Using Resources Tutorial</H2>
  </AppHeader>  
  <Image src="heroImg" />
</App>
```

<Playground
  previewOnly
  name="Example: Using Resources via Config"
  resources={{ logo: xmluiLogo }}
  height={300}
  app={`
  <App
    name="Tutorial">
    <AppHeader>
      <H2>Using Resources Tutorial</H2>
    </AppHeader>  
    <Image src="/resources/images/components/image/breakfast.jpg" />
  </App>
  `}
/>

## Themes and Resources

Resources can be defined in different scopes: either they are global or are scoped to a specific theme.
Themes can have their own resources in their respective `theme files`.

See the article discussing <SmartLink href={THEMES_WHAT_A_THEME_CONTAINS}>Theme object structuring</SmartLink> to find out more.

## Overriding Existing Icons

The XMLUI framework has a built-in icon library that can be accessed via the `Icon` component.
These icons ship with the framwork but it is possible to replace one or multiple icons as you see fit.

_TODO: add examples_

## Loading Fonts

_TODO_

## Automatic Resource Loading

<Callout type="warning" emoji="⚠️">
  This feature is still experimental. Use with caution.
</Callout>

_TODO_

- No need to specify certain resources if placed in the `resources` folder
- The logo keyword is automatically detected
- ...
