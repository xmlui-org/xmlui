# FileInput

The `FileInput` is a user interface component that allows users to select files from their device's file system for upload (or processing its content otherwise).

There are two ways to add a file to the input field:
- Clicking on the `Browse` button and selecting the file in the file browser
- Dragging files from a file browser to the input field.

The text box of the input field is read only.

## Properties

### `autoFocus`

If this boolean prop is set to true, the `FileInput` input will be focused when appearing on the UI.

```ueml copy
<FileInput autoFocus="true" />
```

<Playground
  previewOnly
  name="Example: autoFocus"
  height={60}
  app={`<FileInput autoFocus="true" />`}
/>

### `buttonLabel`

This property is an optional string to set a label for the button part.
If no label is specified and an icon is set, the button will modify its styling to look like an icon button.
By default the label reads `Browse`.

```ueml copy
<VStack gap="1rem" >
  <FileInput />
  <FileInput label="I am the button label" />
</VStack>
```

<Playground
  previewOnly
  name="Example: label"
  height={120}
  app={`<VStack gap="1rem" >
  <FileInput />
  <FileInput buttonLabel="I am the button label" />
</VStack>
  `}
/>

### `enabled`

Controls whether the input field is enabled (`true`) or disabled (`false`).

```ueml copy
<FileInput enabled="false" />
```

<Playground
  previewOnly
  name="Example: enabled"
  height={60}
  app={`<FileInput enabled="false" />`}
/>

### `buttonIcon`

This string value denotes an icon name.
The framework will render an icon if the XMLUI recognizes the icon (by its name).

```ueml
<VStack gap="0.5rem" >
  <FileInput buttonIcon="drive" buttonLabel="Let there be drive" />
  <FileInput buttonIcon="drive" />
</VStack>
```

<Playground
  previewOnly
  height={110}
  name="Example: buttonIcon"
  app={`<VStack gap="0.5rem" >
  <FileInput buttonIcon="drive" buttonLabel="Let there be drive" />
  <FileInput buttonIcon="drive" />
</VStack>`}
/>

### `buttonIconPosition`

This optional string determines the location of the icon in the button.

```ueml
<FileInput buttonIcon="drive" buttonLabel="End" buttonIconPosition="end" />
```

Details on different icon positions can be found in the [`Button` icon positions section](./Button.mdx#iconposition).

### `multiple`

**NOTE**: This is pretty faulty 

This boolean property enables to add not just one (`false`), but multiple files to the field (`true`) -
either by dragging onto the field or by selecting multiple files in the browser menu after clicking the input field button.

```ueml copy
<VStack gap="0.5rem">
  <FileInput multiple="false" />
  <FileInput multiple="true" />
</VStack>
```

<Playground
  previewOnly
  height={110}
  name="Example: multiple"
  app={`<VStack gap="0.5rem">
  <FileInput multiple="false" />
  <FileInput multiple="true" />
</VStack>`}
/>

### `buttonSize`

This optional string property sets the size of the browse button (via paddings).

```ueml copy
<FileInput buttonSize="lg" />
```

Details on different sizes can be found in the [`Button` sizes section](./Button.mdx#size).

### `buttonThemeColor`

The value of this optional property sets the string to provide a color scheme for the button.

```ueml copy
<FileInput buttonThemeColor="secondary" />
```

Details on different theme colors can be found in the [`Button` theme colors section](./Button.mdx#themecolor).

### `directory`

This boolean property indicates whether the `FileInput` component allows selecting directories (`true`) or files (`false`, by default).

### `validationStatus`

This prop is used to visually indicate status changes reacting to form field validation.

| Value     | Description                                           |
| :-------- | :---------------------------------------------------- |
| `valid`   | Visual indicator for an input that is accepted        |
| `warning` | Visual indicator for an input that produced a warning |
| `error`   | Visual indicator for an input that produced an error  |

```ueml copy
<VStack gap="0.5rem">
  <FileInput />
  <FileInput validationStatus="valid" />
  <FileInput validationStatus="warning" />
  <FileInput validationStatus="error" />
</VStack>
```

<Playground
  previewOnly
  name="Example: validationStatus"
  height={220}
  app={`<VStack gap="0.5rem">
  <FileInput />
  <FileInput validationStatus="valid" />
  <FileInput validationStatus="warning" />
  <FileInput validationStatus="error" />
</VStack>`}
/>

### `variant`

The value of this optional property determines the fundamental style of the button.

```ueml copy
<FileInput buttonLabel="outlined" variant="outlined" />
```

Details on different button variants can be found in the [`Button` variants section](./Button.mdx#variant).

## API

### `value`

You can query this read-only API property to get the input component's current value.

See an example in the `setValue` API method.

### `setValue`

You can use this method to set the component's current value programmatically.

__TBD__

NOTE: Not implemented yet - questions arise how to implement

## Events

### `didChange`

This event is triggered after the user has changed the field value.

Write in the input field and see how the `Text` underneath it is updated in accordingly.

```ueml copy {2}
<VStack gap="0.5rem" var.field="">
  <FileInput onDidChange="(file) => field = file?.name" />
  <Text value="{field}" />
</VStack>
```

<Playground
  previewOnly
  name="Example: didChange"
  height={80}
  app={`<VStack gap="0.5rem" var.field="">
  <FileInput onDidChange="(file) => field = file?.name" />
  <Text value="{field}" />
</VStack>`}
/>

### `gotFocus`

This event is triggered when the `FileInput` receives focus.
Clicking on the `FileInput` in the example demo changes the label text.
Note how clicking elsewhere resets the text to the original.

```ueml copy {3-4}
<FileInput
  buttonLabel="{focused === true ? 'I got focused!' : 'I lost focus...'}"
  onGotFocus="focused = true"
  onLostFocus="focused = false"
  var.focused="{false}"
/>
```

<Playground
  previewOnly
  name="Example: gotFocus/lostFocus"
  height={72}
  app={`<FileInput
  buttonLabel="{focused === true ? 'I got focused!' : 'I lost focus...'}"
  onGotFocus="focused = true"
  onLostFocus="focused = false"
  var.focused="{false}"
/>`}
/>

### `lostFocus`

This event is triggered when the `TextBox` loses focus.

(See the example above)

## Styling

The `FileInput` component does not theme variables directly.
However, it uses the [`Button`](./Button.mdx) and [`TextBox`](./TextBox.mdx) components under the hood.
Thus, modifying the styles of both of these components affects the `FileInput`.

See [Button styling](./Button.mdx#styling) and [TextBox styling](./TextBox.mdx#styling).
