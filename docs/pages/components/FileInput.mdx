import { Callout } from "nextra/components";

# FileInput [#component-fileinput]

<Callout type="warning" emoji="ðŸ“”">This component is in an **experimental** state; you can use it in your app. However, we may modify it, and it may even have breaking changes in the future.</Callout>

The `FileInput` is a user interface component that allows users to select files from their device's file system for upload (or processing its content otherwise).

There are two ways to add a file to the input field:
- Clicking on the `Browse` button and selecting the file in the file browser
- Dragging files from a file browser to the input field.

The text box of the input field is read only.

## Properties

### `acceptsFileType`

A list of file types the input controls accepts provided as a string array.

**NOTE:** Does not seem to work.

```ueml
<FileInput acceptsFileType="{['.txt', '.jpg']}" />
```

<Playground
  height={60}
  name="Example: acceptsFileType"
  app={`<FileInput acceptsFileType="{['.txt', '.jpg']}" />`}
/>

### `autoFocus`

This property sets the label of the component.

Default value: `false`.

### `buttonIcon`

The ID of the icon to display in the button

```ueml
<VStack gap="0.5rem" >
  <FileInput buttonIcon="drive" buttonLabel="Let there be drive" />
  <FileInput buttonIcon="drive" />
</VStack>
```

<Playground
  height={110}
  name="Example: buttonIcon"
  app={`<VStack gap="0.5rem" >
  <FileInput buttonIcon="drive" buttonLabel="Let there be drive" />
  <FileInput buttonIcon="drive" />
</VStack>`}
/>

### `buttonIconPosition`

This optional string determines the location of the button icon.

Available values: `left`, `right`, `start`, `end`

```ueml
<FileInput buttonIcon="drive" buttonLabel="End" buttonIconPosition="end" />
```

Details on different icon positions can be found in the [`Button` icon positions section](./Button.mdx#iconposition).

### `buttonLabel`

This property is an optional string to set a label for the button part.

If no label is specified and an icon is set, the button will modify its styling to look like an icon button.
By default the label reads `Browse`.

```ueml copy
<VStack gap="1rem" >
  <FileInput />
  <FileInput label="I am the button label" />
</VStack>
```

<Playground
  name="Example: label"
  height={120}
  app={`<VStack gap="1rem" >
  <FileInput />
  <FileInput buttonLabel="I am the button label" />
</VStack>
  `}
/>

### `buttonSize`

The size of the button (small, medium, large)

Available values:

| Value | Description |
| --- | --- |
| `xs` | Extra small button |
| `sm` | Small button |
| `md` | Medium button |
| `lg` | Large button |


```ueml copy
<FileInput buttonSize="lg" />
```

Details on different sizes can be found in the [`Button` sizes section](./Button.mdx#size).

### `buttonThemeColor`

The button color scheme (primary, secondary, attention)

Available values: `attention`, `primary`, `secondary`

```ueml copy
<FileInput buttonThemeColor="secondary" />
```

Details on different theme colors can be found in the [`Button` theme colors section](./Button.mdx#themecolor).

### `buttonVariant`

The button variant to use

Available values: `solid`, `outlined`, `ghost`

```ueml copy
<FileInput buttonLabel="outlined" variant="outlined" />
```

Details on different button variants can be found in the [`Button` variants section](./Button.mdx#variant).

### `directory`

This boolean property indicates whether the component allows selecting directories (`true`) or files only (`false`).

Default value: `false`.

```ueml copy
<FileInput directory="true" />
```

<Playground
  height={60}
  name="Example: directory"
  app={`<FileInput directory="true" />`}
/>

### `enabled`

This boolean property value indicates whether the component responds to user events (`true`) or not (`false`).

Default value: `true`.

```ueml copy
<FileInput enabled="false" />
```

<Playground
  name="Example: enabled"
  height={60}
  app={`<FileInput enabled="false" />`}
/>

### `initialValue`

This property sets the component's initial value.

### `multiple`

This boolean property enables to add not just one (`false`), but multiple files to the field (`true`). This is done either by dragging onto the field or by selecting multiple files in the browser menu after clicking the input field button.

Default value: `false`.

**NOTE**: This is pretty faulty

```ueml copy
<VStack gap="0.5rem">
  <FileInput multiple="false" />
  <FileInput multiple="true" />
</VStack>
```

<Playground
  height={110}
  name="Example: multiple"
  app={`
  <VStack gap="0.5rem">
    <FileInput multiple="false" />
    <FileInput multiple="true" />
  </VStack>
  `}
/>

### `placeholder`

A placeholder text that is visible in the input field when its empty.

### `readOnly`

Set this property to `true` to disallow changing the component value.

### `required`

Set this property to `true` to indicate it must have a value before submitting the containing form.

### `validationStatus`

This property allows you to set the validation status of the input component.

Available values:

| Value | Description |
| --- | --- |
| `valid` | Visual indicator for an input that is accepted |
| `warning` | Visual indicator for an input that produced a warning |
| `error` | Visual indicator for an input that produced an error |


| Value     | Description                                           |
| :-------- | :---------------------------------------------------- |
| `valid`   | Visual indicator for an input that is accepted        |
| `warning` | Visual indicator for an input that produced a warning |
| `error`   | Visual indicator for an input that produced an error  |

```ueml copy
<VStack gap="0.5rem">
  <FileInput />
  <FileInput validationStatus="valid" />
  <FileInput validationStatus="warning" />
  <FileInput validationStatus="error" />
</VStack>
```

<Playground
  name="Example: validationStatus"
  height={220}
  app={`<VStack gap="0.5rem">
  <FileInput />
  <FileInput validationStatus="valid" />
  <FileInput validationStatus="warning" />
  <FileInput validationStatus="error" />
</VStack>`}
/>

## Events

### `didChange`

This event is triggered when value of FileInput has changed.

Write in the input field and see how the `Text` underneath it is updated in accordingly.

```ueml copy {2}
<VStack gap="0.5rem" var.field="">
  <FileInput onDidChange="(file) => field = file[0]?.name" />
  <Text value="{field}" />
</VStack>`
```

<Playground
  name="Example: didChange"
  height={80}
  app={`
  <VStack gap="0.5rem" var.field="">
    <FileInput onDidChange="(file) => field = file[0]?.name" />
    <Text value="{field}" />
  </VStack>`
  }
/>

### `gotFocus`

This event is triggered when the FileInput has received the focus.

Clicking on the `FileInput` in the example demo changes the label text.
Note how clicking elsewhere resets the text to the original.

```ueml copy {3-4}
<FileInput
  buttonLabel="{focused === true ? 'I got focused!' : 'I lost focus...'}"
  onGotFocus="focused = true"
  onLostFocus="focused = false"
  var.focused="{false}"
/>
```

<Playground
  name="Example: gotFocus/lostFocus"
  height={72}
  app={`
  <FileInput
    buttonLabel="{focused === true ? 'I got focused!' : 'I lost focus...'}"
    onGotFocus="focused = true"
    onLostFocus="focused = false"
    var.focused="{false}"
  />
  `}
/>

### `lostFocus`

This event is triggered when the FileInput has lost the focus.

(See the example above)

## Context Values

This component does not have any context values.

## Exposed Members

### `focus`

This method sets the focus on the FileInput.

```ueml copy {2-3}
<HStack gap="$space-0_5">
  <Button label="Focus FileInput" onClick="fileInputComponent.focus()" />
  <FileInput id="fileInputComponent" />
</HStack>
```

<Playground
  name="Example: focus"
  height={60}
  app={`
  <HStack gap="$space-0_5">
    <Button label="Focus FileInput" onClick="fileInputComponent.focus()" />
    <FileInput id="fileInputComponent" />
  </HStack>
  `}
/>

### `open`

This API command triggers the file browsing dialog to open.

```ueml copy {3-4}
<HStack gap="$space-0_5">
  <Button label="Open FileInput" onClick="fileInputComponent.open()" />
  <FileInput id="fileInputComponent" />
</HStack>
```

<Playground
  name="Example: open"
  height={60}
  app={`
  <HStack gap="$space-0_5">
    <Button label="Open FileInput" onClick="fileInputComponent.open()" />
    <FileInput id="fileInputComponent" />
  </HStack>
  `}
/>

### `setValue`

(**NOT IMPLEMENTED YET**) You can use this method to set the component's current value programmatically.

### `value`

By setting an ID for the component, you can refer to the value of the field if set. If no value is set, the value will be undefined.

In the example below, select a file using the file browser of the `FileInput` component
and note how the `Text` component displays the selected file's name:

```ueml copy {2-3}
<HStack gap="$space-0_5">
  <Text value="Selected file name: {fileInputComponent.value}" />
  <FileInput id="fileInputComponent" />
</HStack>
```

<Playground
  name="Example: value"
  height={60}
  app={`
  <HStack gap="$space-0_5">
    <Text value="Selected file name: {fileInputComponent.value}" />
    <FileInput id="fileInputComponent" />
  </HStack>
  `}
/>

## Styling

The `FileInput` component does not theme variables directly.
However, it uses the [`Button`](./Button.mdx) and [`TextBox`](./TextBox.mdx) components under the hood.
Thus, modifying the styles of both of these components affects the `FileInput`.

See [Button styling](./Button.mdx#styling) and [TextBox styling](./TextBox.mdx#styling).
