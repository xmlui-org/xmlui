# ApiAction

The `ApiAction` component is used to mutate (create, update or delete) some data on the backend.
It is similar in nature to the [`Datasource`](./Datasource.mdx) component which retrieves data from the backend.

See examples on using the `ApiAction` component in [this tutorial](../get-started/working-with-apiaction.mdx).

## Properties

### `body`

This property sets the request body.
The object you pass to this property will be serialized to JSON when sending the request.

### `completedNotificationMessage`

This property customizes the success message displayed in a toast after the finished API invocation. The `$result` context variable can refer to the response body. For example, you can use the following code snippet to display the first 100 characters in the completed operation's response body:

```ueml copy
 <ApiAction
  id="ds"
  method="post"
  url="/api/shopping-list" 
  completedNotificationMessage="Result: {JSON.stringify($result).substring(0, 100)}" />
```

### `confirmButtonLabel`

This optional string property enables the customization of the submit button in the confirmation dialog that is displayed before the `ApiAction` is executed.

### `confirmMessage`

This optional string sets the message in the confirmation dialog that is displayed before the `ApiAction` is executed.

### `confirmTitle`

This optional string sets the title in the confirmation dialog that is displayed before the `ApiAction` is executed.

### `errorNotificationMessage`

This property customizes the message displayed in a toast when the API invocation results in an error. The `$error.statusCode` context variable can refer to the response's status code, while `$error. details` to the response body. For example, you can use the following code snippet to display the status code and the details:

```ueml copy
 <ApiAction
  id="ds"
  method="post"
  url="/api/shopping-list" 
  errorNotificationMessage="${error.statusCode}, {JSON.stringify($error.details)}" />
```

### `headers`

You can define request header values as key and value pairs, where the key is the ID of the particular header and the value is that header's value.

### `inProgressNotificationMessage`

This property customizes the message that is displayed in a toast while the API operation is in progress.

### `invalidates`

This property takes either a string or a list of strings representing URL endpoints to invalidate the local data cache based on the given URL routes.

See [working with caching in ApiAction](../get-started/working-with-apiactions.mdx) for a hands-on tutorial.
For a short overview on client side caching, see the [data caching section](../learning/apis-and-data/api-bindings.mdx#client-side-data-caching).

### `method`

The method of data manipulation can be done via setting this property.
The following HTTP methods are available: `post`, `put`, `delete`.

### `queryParams`

This property sets the query parameters for the request.
The object you pass here will be serialized to a query string and appended to the request URL.
You can specify key and value pairs where the key is the name of a particular query parameter and the value is that parameter's value.

### `updates`

This property takes either a string or a list of strings representing URL endpoints to indicate which data should be updated in the cache.

See [working with caching in ApiAction](../get-started/working-with-apiactions.mdx) for a hands-on tutorial.
For a short overview on client side caching, see the [data caching section](../learning/apis-and-data/api-bindings.mdx#client-side-data-caching).

### `url`

Use this property to set the URL to send data to.

## Events

### `beforeRequest`

This event fires before a request has started.

### `error`

This event fires when a request results in an error.

### `success`

This event fires when a request results in a success.

## Styling

This component has no theme variables or other styling available.
