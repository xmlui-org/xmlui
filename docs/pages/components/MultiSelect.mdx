# MultiSelect

The `MultiSelect` component works the same way as the [`Select`](./Select.mdx) component with the addition of the ability to select multiple elements from a list by clicking list elements in the dropdown. These elements are then displayed in the field and can be removed as necessary.

The component provides two ways to add a list of options to the dropdown:

### Using the `Option` component

The [`Option`](./Option.mdx) component can be used in situations where you need more control over how the list items are displayed.

```ueml copy
<MultiSelect padding="$space-1">
  <Option value="opt1" label="first"/>
  <Option value="opt2" label="second"/>
  <Option value="opt3" label="third"/>
</MultiSelect>
```

<Playground
  previewOnly
  name="Example: using Option"
  height={160}
  app={`
  <MultiSelect padding="$space-1">
    <Option value="opt1" label="first"/>
    <Option value="opt2" label="second"/>
    <Option value="opt3" label="third"/>
  </MultiSelect>
  `}
/>

### Using the `Items` component

In cases where you do not wish to maunally create each item of a datalist
you can map the data to an [`Items`](./Items.mdx) component and place `Option` components in it.

```ueml copy
<MultiSelect padding="$space-1">
  <Items items="{[
    { name: 'Joe', id: 0 },
    { name: 'Jane', id: 1 },
    { name: 'Carl', id: 2 }
  ]}">
    <Option value="{$item.id}" label="{$item.name}" />
  </Items>
</MultiSelect>
```

<Playground
  previewOnly
  name="Example: using Items"
  height={160}
  app={`
  <MultiSelect padding="$space-1">
    <Items items="{[
      { name: 'Joe', id: 0 },
      { name: 'Jane', id: 1 },
      { name: 'Carl', id: 2 }
    ]}">
      <Option value="{$item.id}" label="{$item.name}" />
    </Items>
  </MultiSelect>
  `}
/>

## Context Variables

### `$item`

This context variable acts as a template for an item in the list.

## Properties

### `autoFocus`

This property sets the label of the component.

Default value: `false`.

```ueml copy /autoFocus="true"/
<MultiSelect autoFocus="true" padding="$space-1">
  <Option value="opt1" label="first"/>
  <Option value="opt2" label="second"/>
  <Option value="opt3" label="third"/>
</MultiSelect>
```

<Playground
  previewOnly
  name="Example: autoFocus"
  height={160}
  app={`
  <MultiSelect autoFocus="true" padding="$space-1">
    <Option value="opt1" label="first"/>
    <Option value="opt2" label="second"/>
    <Option value="opt3" label="third"/>
  </MultiSelect>
  `}
/>

### `emptyListTemplate`

With this property, you can specify what should appear when the list is empty.

Click on the second field to see the custom empty list indicator.

```ueml copy {9-11}
<VStack padding="$space-1" gap="$space-1">
  <VStack gap="$space-0_5">
    <Text value="Default:" />
    <MultiSelect />
  </VStack>
  <VStack gap="$space-0_5">
    <Text value="Custom:" />
    <MultiSelect>
      <prop name="emptyListTemplate">
        <Text variant="strong" value="Nothing to see here!" />
      </prop>
    </MultiSelect>
  </VStack>
</VStack>
```

<Playground
  previewOnly
  name="Example: emptyListTemplate"
  height={220}
  app={`
  <VStack padding="$space-1" gap="$space-1">
    <VStack gap="$space-0_5">
      <Text value="Default:" />
      <MultiSelect />
    </VStack>
    <VStack gap="$space-0_5">
      <Text value="Custom:" />
      <MultiSelect>
        <prop name="emptyListTemplate">
          <Text variant="strong" value="Nothing to see here!" />
        </prop>
      </MultiSelect>
    </VStack>
  </VStack>
  `}
/>

### `enabled`

This boolean property value indicates whether the component responds to user events (`true`) or not (`false`).

Default value: `true`.

```ueml copy /enabled="false"/
<MultiSelect enabled="false" padding="$space-1">
  <Option value="opt1" label="first"/>
  <Option value="opt2" label="second"/>
  <Option value="opt3" label="third"/>
</MultiSelect>
```

<Playground
  previewOnly
  name="Example: enabled"
  height={160}
  app={`
  <MultiSelect enabled="false" padding="$space-1">
    <Option value="opt1" label="first"/>
    <Option value="opt2" label="second"/>
    <Option value="opt3" label="third"/>
  </MultiSelect>
  `}
/>

### `endIcon`

This property sets an icon to appear on the end (right side when the left-to-right direction is set) of the input.

### `endText`

This property sets a text to appear on the end (right side when the left-to-right direction is set) of the input.

### `initialValue`

This property sets the component's initial value.

```ueml copy /initialValue="['second', 'third']"/
<MultiSelect initialValue="['second', 'third']" padding="$space-1">
  <Option value="opt1" label="first"/>
  <Option value="opt2" label="second"/>
  <Option value="opt3" label="third"/>
</MultiSelect>
```

<Playground
  previewOnly
  name="Example: initialValue"
  height={160}
  app={`
  <MultiSelect initialValue="['second', 'third']" padding="$space-1">
    <Option value="opt1" label="first"/>
    <Option value="opt2" label="second"/>
    <Option value="opt3" label="third"/>
  </MultiSelect>
  `}
/>

### `labelId`

You can specify the identifier of a component acting as its label. When you click the label, the component behaves as you clicked it.

### `optionTemplate`

This property sets the placeholder text displayed in the input field if no value is selected.

```ueml copy
<MultiSelect>
  <prop name="optionTemplate">
    <HStack verticalAlignment="center" gap="$space-1">
      <Icon name="info" />
      <Text value="{$item.label}" variant="strong" />
    </HStack>
  </prop>
  <Option value="opt1" label="first"/>
  <Option value="opt2" label="second"/>
  <Option value="opt3" label="third"/>
</MultiSelect>
```

<Playground
  previewOnly
  name="Example: optionTemplate"
  height={200}
  app={`
  <MultiSelect>
    <prop name="optionTemplate">
      <HStack verticalAlignment="center" gap="$space-1">
        <Icon name="info" />
        <Text value="{$item.label}" variant="strong" />
      </HStack>
    </prop>
    <Option value="opt1" label="first"/>
    <Option value="opt2" label="second"/>
    <Option value="opt3" label="third"/>
  </MultiSelect>
  `}
/>

### `options`

This property specifies the list of options to be displayed in the dropdown.

### `placeholder`

A placeholder text that is visible in the input field when its empty.

```ueml copy /placeholder="Select any number of options"/
<MultiSelect placeholder="Select any number of options" padding="$space-1">
  <Option value="opt1" label="first"/>
  <Option value="opt2" label="second"/>
  <Option value="opt3" label="third"/>
</MultiSelect>
```

<Playground
  previewOnly
  name="Example: placeholder"
  height={160}
  app={`
  <MultiSelect placeholder="Select any number of options" padding="$space-1">
    <Option value="opt1" label="first"/>
    <Option value="opt2" label="second"/>
    <Option value="opt3" label="third"/>
  </MultiSelect>
  `}
/>

### `readOnly`

Set this property to `true` to disallow changing the component value.

### `required`

Set this property to `true` to indicate it must have a value before submitting the containing form.

### `startIcon`

This property sets an icon to appear at the start (left side when the left-to-right direction is set) of the input.

### `startText`

This property sets a text to appear at the start (left side when the left-to-right direction is set) of the input.

### `validationStatus`

This property allows you to set the validation status of the input component.

Available values:

| Value | Description |
| --- | --- |
| `valid` | Visual indicator for an input that is accepted |
| `warning` | Visual indicator for an input that produced a warning |
| `error` | Visual indicator for an input that produced an error |


| Value     | Description                                           |
| :-------- | :---------------------------------------------------- |
| `valid`   | Visual indicator for an input that is accepted        |
| `warning` | Visual indicator for an input that produced a warning |
| `error`   | Visual indicator for an input that produced an error  |

```ueml copy
<VStack padding="$space-1" gap="$space-1">
  <MultiSelect />
  <MultiSelect validationStatus="valid" />
  <MultiSelect validationStatus="warning" />
  <MultiSelect validationStatus="error" />
</VStack>
```

<Playground
  previewOnly
  name="Example: validationStatus"
  height={220}
  app={`
  <VStack padding="$space-1" gap="$space-1">
    <MultiSelect />
    <MultiSelect validationStatus="valid" />
    <MultiSelect validationStatus="warning" />
    <MultiSelect validationStatus="error" />
  </VStack>
  `}
/>

## API

This component does not provide any API.

## Events

### `didChange`

This event is triggered when value of MultiSelect has changed.

```ueml copy /onDidChange="(newItems) => newValues = newItems"/
<VStack padding="$space-1" gap="$space-0_5">
  <var name="newValues" value="{[]}" />
  <Items items="{newValues}">
    <Text value="{$item}" />
  </Items>
  <MultiSelect onDidChange="(newItems) => newValues = newItems">
    <Option value="opt1" label="first"/>
    <Option value="opt2" label="second"/>
    <Option value="opt3" label="third"/>
  </MultiSelect>
</VStack>
```

<Playground
  previewOnly
  name="Example: didChange"
  height={200}
  app={`
  <VStack padding="$space-1" gap="$space-0_5">
    <var name="newValues" value="{[]}" />
    <Items items="{newValues}">
      <Text value="{$item}" />
    </Items>
    <MultiSelect onDidChange="(newItems) => newValues = newItems">
      <Option value="opt1" label="first"/>
      <Option value="opt2" label="second"/>
      <Option value="opt3" label="third"/>
    </MultiSelect>
  </VStack>
  `}
/>

### `gotFocus`

This event is triggered when the MultiSelect has received the focus.

```ueml copy {5-6}
<VStack padding="$space-1" gap="$space-0_5">
  <var name="isFocused" value="{false}" />
  <Text value="Input control is focused: {isFocused}" />
  <MultiSelect
    onGotFocus="isFocused = true"
    onLostFocus="isFocused = false"
  >
    <Option value="opt1" label="first"/>
    <Option value="opt2" label="second"/>
    <Option value="opt3" label="third"/>
  </MultiSelect>
</VStack>
```

<Playground
  previewOnly
  name="Example: gotFocus/lostFocus"
  height={200}
  app={`
  <VStack padding="$space-1" gap="$space-0_5">
    <var name="isFocused" value="{false}" />
    <Text value="Input control is focused: {isFocused}" />
    <MultiSelect
      onGotFocus="isFocused = true"
      onLostFocus="isFocused = false"
    >
      <Option value="opt1" label="first"/>
      <Option value="opt2" label="second"/>
      <Option value="opt3" label="third"/>
    </MultiSelect>
  </VStack>
  `}
/>

### `lostFocus`

This event is triggered when the MultiSelect has lost the focus.

See the example in [gotFocus event section](#gotfocus).

## Styling

The `MultiSelect` component uses these theme variables:

- `min-height-MultiSelect`

These variables have 4 variants depending on the [validationStatus](#validationstatus) denoted by `|status|`.
If the status segment is omitted, the style will be applied to all statuses.

- `radius-MultiSelect-|status|`
- `font-size-MultiSelect-|status|`
- `color-placeholder-MultiSelect-|status|`

- `thickness-outline-MultiSelect-|status|--focus`
- `color-outline-MultiSelect-|status|--focus`
- `style-outline-MultiSelect-|status|--focus`
- `offset-outline-MultiSelect-|status|--focus`

```json copy
"radius-MultiSelect-default": "10px",
"color-placeholder-MultiSelect-error": "crimson"
```

In addition to the validation statuses,
the variables below are associated with styles for `hover` and `disabled` interaction states denoted by `|interact|` in their signature:

- `color-border-MultiSelect-|status|--|interact|`
- `color-bg-MultiSelect-|status|--|interact|`
- `shadow-MultiSelect-|status|--|interact|`
- `color-text-MultiSelect-|status|--|interact|`

```json copy
"color-bg-MultiSelect-default--disabled": "gray",
"color-text-MultiSelect-error--active": "lightcoral"
```

Theme variables to set the dropdown menu styles:

- `color-bg-menu-MultiSelect`
- `shadow-menu-MultiSelect`
- `radius-menu-MultiSelect`
- `color-text-indicator-MultiSelect`

Theme variables to set the selection styles in a dropdown menu:

- `color-text-value-MultiSelect`
- `color-bg-value-MultiSelect`

Theme variables to set the styles of an unselected item:

- `color-bg-item-MultiSelect--hover`
- `color-bg-item-MultiSelect--active`
- `color-text-item-MultiSelect--disabled`

### Example

```json copy
"radius-MultiSelect": "30px",
"color-placeholder-MultiSelect-default": "blue"
```

<Playground
  name="Example: styling"
  previewOnly
  height={200}
  defaultTheme="custom"
  themes={[
    {
      id: "custom",
      name: "Custom Theme",
      themeVars: {
        "radius-MultiSelect": "30px",
        "color-placeholder-MultiSelect-default": "blue"
      },
    },
  ]}
  app={`<MultiSelect placeholder="I am a placeholder" />`}
/>

To style all input controls not just this component, replace the `MultiSelect` segment with `Input`:

```
color-border-Input: "#0033FF"
```

`Input` affects the following controls:

- [`Checkbox`](./Checkbox.mdx)
- [`NumberBox`](./NumberBox.mdx)
- [`RadioGroupOption`](./RadioGroupOption.mdx)
- [`Select`](./Select.mdx)
- [`Switch`](./Switch.mdx)
- [`TextArea`](./TextArea.mdx)
- [`TextBox`](./TextBox.mdx)
- [`MultiCombobox`](./MultiCombobox.mdx)

See [custom themes](../learning/themes/overview.mdx) for styling details.

### Theme Variables

| Variable | Default Value (Light) | Default Value (Dark) |
| --- | --- | --- |
| color-bg-MultiSelect--disabled | (fallback) | (fallback) |
| color-bg-MultiSelect-default | (fallback) | (fallback) |
| color-bg-MultiSelect-default--hover | (fallback) | (fallback) |
| color-bg-MultiSelect-error | (fallback) | (fallback) |
| color-bg-MultiSelect-error--hover | (fallback) | (fallback) |
| color-bg-MultiSelect-success | (fallback) | (fallback) |
| color-bg-MultiSelect-success--hover | (fallback) | (fallback) |
| color-bg-MultiSelect-warning | (fallback) | (fallback) |
| color-bg-MultiSelect-warning--hover | (fallback) | (fallback) |
| color-bg-item-MultiSelect--active | (fallback) | (fallback) |
| color-bg-item-MultiSelect--hover | $color-bg-dropdown-item--active | $color-bg-dropdown-item--active |
| color-bg-menu-MultiSelect | $color-bg-primary | $color-bg-primary |
| color-bg-value-MultiSelect | $color-bg-primary | $color-bg-primary |
| color-border-MultiSelect--disabled | (fallback) | (fallback) |
| color-border-MultiSelect-default | (fallback) | (fallback) |
| color-border-MultiSelect-default--hover | (fallback) | (fallback) |
| color-border-MultiSelect-error | (fallback) | (fallback) |
| color-border-MultiSelect-error--hover | (fallback) | (fallback) |
| color-border-MultiSelect-success | (fallback) | (fallback) |
| color-border-MultiSelect-success--hover | (fallback) | (fallback) |
| color-border-MultiSelect-warning | (fallback) | (fallback) |
| color-border-MultiSelect-warning--hover | (fallback) | (fallback) |
| color-outline-MultiSelect-default--focus | (fallback) | (fallback) |
| color-outline-MultiSelect-error--focus | (fallback) | (fallback) |
| color-outline-MultiSelect-success--focus | (fallback) | (fallback) |
| color-outline-MultiSelect-warning--focus | (fallback) | (fallback) |
| color-placeholder-MultiSelect-default | (fallback) | (fallback) |
| color-placeholder-MultiSelect-error | (fallback) | (fallback) |
| color-placeholder-MultiSelect-success | (fallback) | (fallback) |
| color-placeholder-MultiSelect-warning | (fallback) | (fallback) |
| color-text-MultiSelect--disabled | (fallback) | (fallback) |
| color-text-MultiSelect-default | (fallback) | (fallback) |
| color-text-MultiSelect-default--hover | (fallback) | (fallback) |
| color-text-MultiSelect-error | (fallback) | (fallback) |
| color-text-MultiSelect-error--hover | (fallback) | (fallback) |
| color-text-MultiSelect-success | (fallback) | (fallback) |
| color-text-MultiSelect-success--hover | (fallback) | (fallback) |
| color-text-MultiSelect-warning | (fallback) | (fallback) |
| color-text-MultiSelect-warning--hover | (fallback) | (fallback) |
| color-text-indicator-MultiSelect | (fallback) | (fallback) |
| color-text-item-MultiSelect--disabled | $color-surface-200 | $color-surface-800 |
| color-text-value-MultiSelect | $color-text-primary | $color-text-primary |
| font-size-MultiSelect | (fallback) | (fallback) |
| offset-outline-MultiSelect-default--focus | (fallback) | (fallback) |
| offset-outline-MultiSelect-error--focus | (fallback) | (fallback) |
| offset-outline-MultiSelect-success--focus | (fallback) | (fallback) |
| offset-outline-MultiSelect-warning--focus | (fallback) | (fallback) |
| radius-MultiSelect-default | (fallback) | (fallback) |
| radius-MultiSelect-error | (fallback) | (fallback) |
| radius-MultiSelect-success | (fallback) | (fallback) |
| radius-MultiSelect-warning | (fallback) | (fallback) |
| radius-menu-MultiSelect | $radius | $radius |
| shadow-MultiSelect-default | (fallback) | (fallback) |
| shadow-MultiSelect-default--hover | (fallback) | (fallback) |
| shadow-MultiSelect-error | (fallback) | (fallback) |
| shadow-MultiSelect-error--hover | (fallback) | (fallback) |
| shadow-MultiSelect-success | (fallback) | (fallback) |
| shadow-MultiSelect-success--hover | (fallback) | (fallback) |
| shadow-MultiSelect-warning | (fallback) | (fallback) |
| shadow-MultiSelect-warning--hover | (fallback) | (fallback) |
| shadow-menu-MultiSelect | $shadow-md | $shadow-md |
| style-border-MultiSelect-default | (fallback) | (fallback) |
| style-border-MultiSelect-error | (fallback) | (fallback) |
| style-border-MultiSelect-success | (fallback) | (fallback) |
| style-border-MultiSelect-warning | (fallback) | (fallback) |
| style-outline-MultiSelect-default--focus | (fallback) | (fallback) |
| style-outline-MultiSelect-error--focus | (fallback) | (fallback) |
| style-outline-MultiSelect-success--focus | (fallback) | (fallback) |
| style-outline-MultiSelect-warning--focus | (fallback) | (fallback) |
| thickness-border-MultiSelect-default | (fallback) | (fallback) |
| thickness-border-MultiSelect-error | (fallback) | (fallback) |
| thickness-border-MultiSelect-success | (fallback) | (fallback) |
| thickness-border-MultiSelect-warning | (fallback) | (fallback) |
| thickness-outline-MultiSelect-default--focus | (fallback) | (fallback) |
| thickness-outline-MultiSelect-error--focus | (fallback) | (fallback) |
| thickness-outline-MultiSelect-success--focus | (fallback) | (fallback) |
| thickness-outline-MultiSelect-warning--focus | (fallback) | (fallback) |
| color-bg-item-MultiSelect | $color-bg-dropdown-item | $color-bg-dropdown-item |
| color-bg-item-MultiSelect--hover | $color-bg-dropdown-item--active | $color-bg-dropdown-item--active |
| color-bg-menu-MultiSelect | $color-bg-primary | $color-bg-primary |
| color-bg-value-MultiSelect | $color-bg-primary | $color-bg-primary |
| color-text-item-MultiSelect--disabled | $color-surface-200 | $color-surface-800 |
| color-text-value-MultiSelect | $color-text-primary | $color-text-primary |
| radius-menu-MultiSelect | $radius | $radius |
| shadow-menu-MultiSelect | $shadow-md | $shadow-md |

