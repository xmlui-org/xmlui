import { Callout } from "nextra/components";

# ModalDialog [#component-modaldialog]

The `ModalDialog` component defines a modal dialog UI element that can be displayed over the existing UI - triggered by some action.

## Using the Component

Opening and closing the modal dialog can be done in two ways depending on circumstances.

### With Imperative API

Event-driven display of the `ModalDialog` dialog is also possible using imperative API.

This method is a good way to toggle the display of the `ModalDialog` if no deep linking is necessary.
It also lends to itself that these events can be triggered programmatically from codebehind.

Note the `id` property of the `ModalDialog` in the example below and how it is used to call the [`open`](#open-api) and [`close`](#close-api)
operations of the component in the `onClick` event handlers.

```ueml copy
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" title="Example Dialog">
      <Button label="Close Dialog" onClick="dialog.close()" />
    </ModalDialog>
  </Stack>
```

<Playground
  name="Example: imperative API"
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" title="Example Dialog">
      <Button label="Close Dialog" onClick="dialog.close()" />
    </ModalDialog>
  </Stack>
  `}
/>

> **Note**: The imperative approach is perhaps the most intuitive way to display and hide modal dialogs.

### With `when`

The `when` property accepts a primitive boolean or a binding expression resolving to a boolean value to toggle the display of a component.

Using the `when` property in a `ModalDialog` dialog component is commonly used with deep linking:
showing the modal in conjunction with an updated URL so that the opened state of the modal dialog is referable.

```ueml copy /when="{isDialogShown}"/
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <var name="isDialogShown" value="{false}"/>
  <Button label="Open Dialog" onClick="isDialogShown = true" />
  <ModalDialog when="{isDialogShown}" title="Example Dialog" onClose="isDialogShown = false" />
</Stack>
```

Click on the button in the demo below to open the modal dialog. Click anywhere outside the opened dialog or the close button to close it.

<Playground
  name="Example: when"
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <var name="isDialogShown" value="{false}"/>
    <Button label="Open Dialog" onClick="isDialogShown = true" />
    <ModalDialog when="{isDialogShown}" title="Example Dialog" onClose="isDialogShown = false" />
  </Stack>
  `}
/>

Setting the `when` property is the most straightforward way for deep-linked modals. If you use deep links with query parameters to show a particular dialog, you can set the `when` property to show or hide the dialog according to parameter values.

### As Request Confirmation

The `ModalDialog` is also used for confirming certain actions such as API requests.

The example below shows that the `ApiBinding` component has a number of confirmation dialog related properties.
Setting one of these properties (highlighted in example) enable the `ModalDialog` to appear if the `Button` is clicked.

```ueml copy {6-8}
<Button>Delete
  <event name="click">
    <ApiBinding
      url="/drives/{$driveId}"
      method="delete"
      confirmationMessageTitle="Remove Drive"
      confirmationMessage="Are you sure you want to remove this drive and all of its information?"
      actionButtonLabel="Remove" />
  </event>
</Button>
```

### The `ModalDialog` as a Container

The `ModalDialog` component is also a container such as the [`Card`](./Card.mdx), that it also accepts child components.

```ueml copy {4-9}
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" title="Example Dialog">
    <Form data="{{ firstName: 'Billy', lastName: 'Bob' }}"
      onCancel="dialog.close()"
      onSubmit="dialog.close()">
      <FormItem bindTo="firstName" required="true" />
      <FormItem bindTo="lastName" required="true" />
    </Form>
  </ModalDialog>
</Stack>
```

<Playground
  name="Example: children"
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" title="Example Dialog">
      <Form data="{{ firstName: 'Billy', lastName: 'Bob' }}"
        onCancel="dialog.close()"
        onSubmit="dialog.close()">
        <FormItem bindTo="firstName" required="true" />
        <FormItem bindTo="lastName" required="true" />
      </Form>
    </ModalDialog>
  </Stack>
  `}
/>

## Properties

### `closeButtonVisible`

Shows (`true`) or hides (`false`) the visibility of the close button on the dialog.

```ueml copy /closeButtonVisible="false"/
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" closeButtonVisible="false" title="Example Dialog" />
</Stack>
```

Click outside the dialog to close it.

<Playground
  name="Example: closeButtonVisible"
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" closeButtonVisible="false" title="Example Dialog" />
  </Stack>
  `}
/>

### `fullScreen`

Toggles whether the dialog encompasses the whole UI (`true`) or not and has a minimum width and height (`false`).

```ueml copy /fullScreen="true"/
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" fullScreen="true" title="Example Dialog" />
</Stack>
```

Click the button to display a full-screen dialog. The icon at the top-right corner of the dialog allows you to close it.

<Playground
  name="Example: fullScreen"
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" fullScreen="true" title="Example Dialog" />
  </Stack>
  `}
/>

### `isInitiallyOpen`

This property sets whether the modal dialog appears open (`true`) or not (`false`) when the page is it is defined on is rendered.

```ueml copy {4}
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog
    isInitiallyOpen="true"
    id="dialog"
    title="Example Dialog"
  />
</Stack>
```

### `title`

Provides a prestyled heading to display the intent of the dialog.

```ueml copy /title="Example Dialog"/
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" title="Example Dialog" />
</Stack>
```

<Playground
  name="Example: title"
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" title="Example Dialog" />
  </Stack>
  `}
/>

## Events

### `close`

This event is fired when the close button is pressed or the user clicks outside the `ModalDialog`.

> For the API method of the same name, see `close` under the `Api` section.

In this example, the `close` event counts how many times you closed the dialog:

```ueml copy {6-8}
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="myDialog.open()" />
  <ModalDialog
    id="myDialog"
    title="Example Dialog"
    var.counter="{0}"
    onClose="counter++">
    <Text value="Dialog closed {counter} number of times." />
  </ModalDialog>
</Stack>
```

Open and close the dialog several times to test that it changes the counter.

<Playground
  name="Example: open/close events"
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="myDialog.open()" />
    <ModalDialog
      id="myDialog"
      title="Example Dialog"
      var.counter="{0}"
      onClose="counter++">
      <Text value="Dialog closed {counter} number of times." />
    </ModalDialog>
  </Stack>
  `}
/>

### `open`

This event is fired when the `ModalDialog` is opened either via a `when` or an imperative API call (`open()`).

> For the API method of the same name, see `open` under the `Api` section.

In this example, the `open` event counts how many times you opened the dialog:

```ueml copy {6-8}
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="myDialog.open()" />
  <ModalDialog
    id="myDialog"
    title="Example Dialog"
    var.counter="{0}"
    onOpen="counter++">
    <Text value="Dialog opened {counter} number of times." />
  </ModalDialog>
</Stack>
```

Open and close the dialog several times to test that it changes the counter.

<Playground
  name="Example: open/close events"
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="myDialog.open()" />
    <ModalDialog
      id="myDialog"
      title="Example Dialog"
      var.counter="{0}"
      onOpen="counter++">
      <Text value="Dialog opened {counter} number of times." />
    </ModalDialog>
  </Stack>
  `}
/>

## Context Values

This component does not have any context values.

## Exposed Members

### `close`

This method is used to close the `ModalDialog`. Invoke it using `modalId.close()` where `modalId` refers to a `ModalDialog` component.

See the [\`With Imperative API\`](#with-imperative-api) subsection for an example.

> For the event of the same name, see \`close\` under the \`Event\` section.

### `open`

See the [\`With Imperative API\`](#with-imperative-api) subsection for an example.

> For the event of the same name, see \`open\` under the \`Event\` section.

## Styling

The `ModalDialog` component uses these theme variables to customize its appearance:

- `color-bg`
- `color-bg-overlay`
- `color-text`
- `font-family`
- `height`
- `margin-bottom-title`
- `margin-top`,
- `max-width`
- `min-width`
- `padding` (including all `padding` variants, such as `padding-left` and others)
- `padding-overlay` (including all `padding` variants, such as `padding-left` and others)
- `radius`

### Theme Variables

| Variable | Default Value (Light) | Default Value (Dark) |
| --- | --- | --- |
| [color-bg](../styles-and-themes/common-units/#color-values)-ModalDialog | $color-bg-primary | $color-bg-primary |
| [color-bg](../styles-and-themes/common-units/#color-values)-overlay-ModalDialog | $color-bg-overlay | $color-bg-overlay |
| [color-text](../styles-and-themes/common-units/#color-values)-ModalDialog | $color-text-primary | $color-text-primary |
| font-family-ModalDialog | $font-family | $font-family |
| [margin](../styles-and-themes/common-units/#size-values)-bottom-title-ModalDialog | 0 | 0 |
| max-[width](../styles-and-themes/common-units/#size-values)-ModalDialog | 450px | 450px |
| min-[width](../styles-and-themes/common-units/#size-values)-ModalDialog | <GrayText>none</GrayText> | <GrayText>none</GrayText> |
| [radius](../styles-and-themes/common-units/#border-rounding)-ModalDialog | $radius | $radius |
| [color-bg](../styles-and-themes/common-units/#color-values)-ModalDialog | $color-bg-primary | $color-bg-primary |
| [color-bg](../styles-and-themes/common-units/#color-values)-overlay-ModalDialog | $color-bg-overlay | $color-bg-overlay |
| [color-text](../styles-and-themes/common-units/#color-values)-ModalDialog | $color-text-primary | $color-text-primary |
| font-family-ModalDialog | $font-family | $font-family |
| [margin](../styles-and-themes/common-units/#size-values)-bottom-title-ModalDialog | 0 | 0 |
| max-[width](../styles-and-themes/common-units/#size-values)-ModalDialog | 450px | 450px |
| [padding](../styles-and-themes/common-units/#size-values)-ModalDialog | $space-7 | $space-7 |
| [padding-bottom](../styles-and-themes/common-units/#size-values)-ModalDialog | $padding-vertical-ModalDialog | $padding-vertical-ModalDialog |
| [padding-bottom](../styles-and-themes/common-units/#size-values)-overlay-ModalDialog | <GrayText>none</GrayText> | <GrayText>none</GrayText> |
| [padding-horizontal](../styles-and-themes/common-units/#size-values)-ModalDialog |  |  |
| [padding-horizontal](../styles-and-themes/common-units/#size-values)-overlay-ModalDialog | <GrayText>none</GrayText> | <GrayText>none</GrayText> |
| [padding-left](../styles-and-themes/common-units/#size-values)-ModalDialog | $padding-horizontal-ModalDialog | $padding-horizontal-ModalDialog |
| [padding-left](../styles-and-themes/common-units/#size-values)-overlay-ModalDialog | <GrayText>none</GrayText> | <GrayText>none</GrayText> |
| [padding](../styles-and-themes/common-units/#size-values)-overlay-ModalDialog | <GrayText>none</GrayText> | <GrayText>none</GrayText> |
| [padding-right](../styles-and-themes/common-units/#size-values)-ModalDialog | $padding-horizontal-ModalDialog | $padding-horizontal-ModalDialog |
| [padding-right](../styles-and-themes/common-units/#size-values)-overlay-ModalDialog | <GrayText>none</GrayText> | <GrayText>none</GrayText> |
| [padding-top](../styles-and-themes/common-units/#size-values)-ModalDialog | $padding-vertical-ModalDialog | $padding-vertical-ModalDialog |
| [padding-top](../styles-and-themes/common-units/#size-values)-overlay-ModalDialog | <GrayText>none</GrayText> | <GrayText>none</GrayText> |
| [padding-vertical](../styles-and-themes/common-units/#size-values)-ModalDialog |  |  |
| [padding-vertical](../styles-and-themes/common-units/#size-values)-overlay-ModalDialog | <GrayText>none</GrayText> | <GrayText>none</GrayText> |
| [radius](../styles-and-themes/common-units/#border-rounding)-ModalDialog | $radius | $radius |

