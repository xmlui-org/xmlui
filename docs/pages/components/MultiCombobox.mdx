import { Callout } from "nextra/components";

# MultiCombobox [#component-multicombobox]

<Callout type="warning" emoji="ðŸ“”">This component is in an **experimental** state; you can use it in your app. However, we may modify it, and it may even have breaking changes in the future.</Callout>

A `Combobox` is a component that combines the features of a dropdown list and an input field.

The component provides two ways to add a list of options to the dropdown:

### Using the `Option` component

The [`Option`](./Option.mdx) component can be used in situations where you need more control over how the list items are displayed.

```ueml copy
<App>
  <MultiCombobox>
    <Option label="Vanilla" value="vanilla" />
    <Option label="Chocolate" value="chocolate" />
    <Option label="Pistachio" value="pistachio" />
  </MultiCombobox>
</App>
```

<Playground
  name="Example: using Option"
  height={200}
  app={`
    <App>
      <MultiCombobox>
        <Option label="Vanilla" value="vanilla" />
        <Option label="Chocolate" value="chocolate" />
        <Option label="Pistachio" value="pistachio" />
      </MultiCombobox>
    </App>
  `}
/>

### Using the `Items` component

In cases where you do not wish to maunally create each item of a datalist
you can map the data to an [`Items`](./Items.mdx) component and place `Option` components in it.

```ueml copy
<App>
  <MultiCombobox>
    <Items items="{[
      { name: 'Joe', id: 0 },
      { name: 'Jane', id: 1 },
      { name: 'Carl', id: 2 }
    ]}">
      <Option value="{$item.id}" label="{$item.name}" />
    </Items>
  </MultiCombobox>
</App>
```

<Playground
  name="Example: using Items"
  height={200}
  app={`
    <App>
      <MultiCombobox>
        <Items items="{[
          { name: 'Joe', id: 0 },
          { name: 'Jane', id: 1 },
          { name: 'Carl', id: 2 }
        ]}">
          <Option value="{$item.id}" label="{$item.name}" />
        </Items>
      </MultiCombobox>
    </App>
  `}
/>

## Properties

### `autoFocus`

This property sets the label of the component.

Default value: `false`.

### `emptyListTemplate`

With this property, you can define the template to display when the search list (after filtering) contains no element.

Click on the second field to see the custom empty list indicator.

```ueml copy {9-11}
<App>
  <VStack>
    <Text value="Default:" />
    <MultiCombobox />
  </VStack>
  <VStack>
    <Text value="Custom:" />
    <MultiCombobox>
      <property name="emptyListTemplate">
        <Text variant="strong" value="Nothing to see here!" />
      </property>
    </MultiCombobox>
  </VStack>
</App>
```

<Playground
  name="Example: emptyListTemplate"
  height={300}
  app={`
  <App>
    <VStack>
      <Text value="Default:" />
      <MultiCombobox />
    </VStack>
    <VStack>
      <Text value="Custom:" />
      <MultiCombobox>
        <property name="emptyListTemplate">
          <Text variant="strong" value="Nothing to see here!" />
        </property>
      </MultiCombobox>
    </VStack>
  </App>
  `}
/>

### `enabled`

This boolean property value indicates whether the component responds to user events (`true`) or not (`false`).

Default value: `true`.

```ueml copy /enabled="false"/
<App>
  <MultiCombobox enabled="false">
    <Option label="Vanilla" value="vanilla" />
    <Option label="Chocolate" value="chocolate" />
    <Option label="Pistachio" value="pistachio" />
  </MultiCombobox>
</App>
```

<Playground
  name="Example: enabled"
  height={200}
  app={`
    <App>
      <MultiCombobox enabled="false">
        <Option label="Vanilla" value="vanilla" />
        <Option label="Chocolate" value="chocolate" />
        <Option label="Pistachio" value="pistachio" />
      </MultiCombobox>
    </App>
  `}
/>

### `endIcon`

This property sets an icon to appear on the end (right side when the left-to-right direction is set) of the input.

### `endText`

This property sets a text to appear on the end (right side when the left-to-right direction is set) of the input.

### `initialValue`

This property sets the component's initial value.

```ueml copy /initialValue="['chocolate', 'pistachio']"/
<App>
  <MultiCombobox initialValue="['chocolate', 'pistachio']">
    <Option label="Vanilla" value="vanilla" />
    <Option label="Chocolate" value="chocolate" />
    <Option label="Pistachio" value="pistachio" />
  </MultiCombobox>
</App>
```

<Playground
  name="Example: initialValue"
  height={160}
  app={`
    <App>
      <MultiCombobox initialValue="['chocolate', 'pistachio']">
        <Option label="Vanilla" value="vanilla" />
        <Option label="Chocolate" value="chocolate" />
        <Option label="Pistachio" value="pistachio" />
      </MultiCombobox>
    </App>
  `}
/>

### `labelId`

You can specify the identifier of a component acting as its label. When you click the label, the component behaves as you clicked it.

### `maxLength`

This property sets the maximum length of the input it accepts.

### `optionTemplate`

You can define a template for the option items of the `Combobox`.

```ueml copy
<App>
  <MultiCombobox>
    <property name="optionTemplate">
      <HStack verticalAlignment="center">
        <Icon name="info" />
        <Text value="{$item.label}" variant="strong" />
      </HStack>
    </property>
    <Option value="opt1" label="first"/>
    <Option value="opt2" label="second"/>
    <Option value="opt3" label="third"/>
  </MultiCombobox>
</App>
```

<Playground
  name="Example: optionTemplate"
  height={240}
  app={`
    <App>
      <MultiCombobox>
        <property name="optionTemplate">
          <HStack verticalAlignment="center">
            <Icon name="info" />
            <Text value="{$item.label}" variant="strong" />
          </HStack>
        </property>
        <Option value="opt1" label="first"/>
        <Option value="opt2" label="second"/>
        <Option value="opt3" label="third"/>
      </MultiCombobox>
    </App>
  `}
/>

### `placeholder`

A placeholder text that is visible in the input field when its empty.

```ueml copy /placeholder="Select any number of options"/
<App>
  <MultiCombobox placeholder="Select any number of options">
    <Option label="Vanilla" value="vanilla" />
    <Option label="Chocolate" value="chocolate" />
    <Option label="Pistachio" value="pistachio" />
  </MultiCombobox>
</App>
```

<Playground
  name="Example: placeholder"
  height={200}
  app={`
    <App>
      <MultiCombobox placeholder="Select any number of options">
        <Option label="Vanilla" value="vanilla" />
        <Option label="Chocolate" value="chocolate" />
        <Option label="Pistachio" value="pistachio" />
      </MultiCombobox>
    </App>
  `}
/>

### `readOnly`

Set this property to `true` to disallow changing the component value.

### `required`

Set this property to `true` to indicate it must have a value before submitting the containing form.

### `startIcon`

This property sets an icon to appear at the start (left side when the left-to-right direction is set) of the input.

```ueml copy /startIcon="email"/
<App>
  <MultiCombobox startIcon="email">
    <Option label="Vanilla" value="vanilla" />
    <Option label="Chocolate" value="chocolate" />
    <Option label="Pistachio" value="pistachio" />
  </MultiCombobox>
</App>
```

<Playground
  name="Example: startIcon"
  height={200}
  app={`
    <App>
      <MultiCombobox startIcon="email">
        <Option label="Vanilla" value="vanilla" />
        <Option label="Chocolate" value="chocolate" />
        <Option label="Pistachio" value="pistachio" />
      </MultiCombobox>
    </App>
  `}
/>

### `startText`

This property sets a text to appear at the start (left side when the left-to-right direction is set) of the input.

```ueml copy /startText="Badges:"/
<App>
  <MultiCombobox startText="Badges:">
    <Option label="Vanilla" value="vanilla" />
    <Option label="Chocolate" value="chocolate" />
    <Option label="Pistachio" value="pistachio" />
  </MultiCombobox>
</App>
```

<Playground
  name="Example: startText"
  height={200}
  app={`
    <App>
      <MultiCombobox startText="Badges:">
        <Option label="Vanilla" value="vanilla" />
        <Option label="Chocolate" value="chocolate" />
        <Option label="Pistachio" value="pistachio" />
      </MultiCombobox>
    </App>
  `}
/>

### `validationStatus`

This property allows you to set the validation status of the input component.

Available values:

| Value | Description |
| --- | --- |
| `valid` | Visual indicator for an input that is accepted |
| `warning` | Visual indicator for an input that produced a warning |
| `error` | Visual indicator for an input that produced an error |


| Value     | Description                                           |
| :-------- | :---------------------------------------------------- |
| `valid`   | Visual indicator for an input that is accepted        |
| `warning` | Visual indicator for an input that produced a warning |
| `error`   | Visual indicator for an input that produced an error  |

```ueml copy
<App>
  <MultiCombobox />
  <MultiCombobox validationStatus="valid" />
  <MultiCombobox validationStatus="warning" />
  <MultiCombobox validationStatus="error" />
</App>
```

<Playground
  name="Example: validationStatus"
  height={260}
  app={`
  <App>
    <MultiCombobox />
    <MultiCombobox validationStatus="valid" />
    <MultiCombobox validationStatus="warning" />
    <MultiCombobox validationStatus="error" />
  </App>
  `}
/>

## Events

### `didChange`

This event is triggered when value of Combobox has changed.

```ueml copy /onDidChange="(newItems) => newValues = newItems"/
<App>
  <var name="newValues" value="{[]}" />
  <Items items="{newValues}">
    <Text value="{$item}" />
  </Items>
  <MultiCombobox onDidChange="(newItems) => newValues = newItems">
    <Option label="Vanilla" value="vanilla" />
    <Option label="Chocolate" value="chocolate" />
    <Option label="Pistachio" value="pistachio" />
  </MultiCombobox>
</App>
```

<Playground
  name="Example: didChange"
  height={240}
  app={`
  <App>
    <var name="newValues" value="{[]}" />
    <Items items="{newValues}">
      <Text value="{$item}" />
    </Items>
    <MultiCombobox onDidChange="(newItems) => newValues = newItems">
      <Option label="Vanilla" value="vanilla" />
      <Option label="Chocolate" value="chocolate" />
      <Option label="Pistachio" value="pistachio" />
    </MultiCombobox>
  </App>
  `}
/>

### `gotFocus`

This event is triggered when the Combobox has received the focus.

```ueml copy {5-6}
<App>
  <var name="isFocused" value="{false}" />
  <Text value="Input control is focused: {isFocused}" />
  <MultiCombobox
    onGotFocus="isFocused = true"
    onLostFocus="isFocused = false">
    <Option label="Vanilla" value="vanilla" />
    <Option label="Chocolate" value="chocolate" />
    <Option label="Pistachio" value="pistachio" />
  </MultiCombobox>
</App>
```

<Playground
  name="Example: gotFocus/lostFocus"
  height={200}
  app={`
  <App>
    <var name="isFocused" value="{false}" />
    <Text value="Input control is focused: {isFocused}" />
    <MultiCombobox
      onGotFocus="isFocused = true"
      onLostFocus="isFocused = false">
      <Option label="Vanilla" value="vanilla" />
      <Option label="Chocolate" value="chocolate" />
      <Option label="Pistachio" value="pistachio" />
    </MultiCombobox>
  </App>
  `}
/>

### `lostFocus`

This event is triggered when the Combobox has lost the focus.

See the example in [gotFocus event section](#gotfocus).

## Context Values

This component does not have any context values.

## Exposed Members

This component does not expose any members.

## Styling

The `MultiCombobox` component uses these theme variables:

- `min-height-MultiCombobox`

These variables have 4 variants depending on the [validationStatus](#validationstatus) denoted by `|status|`.
If the status segment is omitted, the style will be applied to all statuses.

- `radius-MultiCombobox-|status|`
- `font-size-MultiCombobox-|status|`
- `color-placeholder-MultiCombobox-|status|`
- `thickness-border-MultiCombobox-|status|`
- `style-border-MultiCombobox-|status|`

- `thickness-outline-MultiCombobox-|status|--focus`
- `color-outline-MultiCombobox-|status|--focus`
- `style-outline-MultiCombobox-|status|--focus`
- `offset-outline-MultiCombobox-|status|--focus`

```json copy
"radius-MultiCombobox-default": "10px",
"color-placeholder-MultiCombobox-error": "crimson"
```

In addition to the validationStatuses, the variables below also have styles for `hover` and `disabled` interaction states denoted by `|interact|`:

- `color-border-MultiCombobox-|status|--|interact|`
- `color-bg-MultiCombobox-|status|--|interact|`
- `shadow-MultiCombobox-|status|--|interact|`
- `color-text-MultiCombobox-|status|--|interact|`

```json copy
"color-bg-MultiCombobox-default--disabled": "gray",
"color-text-MultiCombobox-error--active": "lightcoral"
```

Theme variables to set the dropdown menu styles:

- `color-bg-menu-MultiCombobox`
- `shadow-menu-MultiCombobox`
- `radius-menu-MultiCombobox`
- `color-text-indicator-MultiCombobox`

Theme variables to set the selection styles in a dropdown menu:

- `color-text-value-MultiCombobox`
- `color-bg-value-MultiCombobox`

Theme variables to set the styles of an unselected item:

- `color-bg-item-MultiCombobox--hover`
- `color-bg-item-MultiCombobox--active`
- `color-text-item-MultiCombobox--disabled`

### Example

```json copy
"thickness-border-MultiCombobox": "8px",
"radius-MultiCombobox": "30px",
"color-placeholder-MultiCombobox-default": "blue"
```

<Playground
  name="Example: styling"
  height={200}
  defaultTheme="custom"
  themes={[
    {
      id: "custom",
      name: "Custom Theme",
      themeVars: {
        "thickness-border-MultiCombobox": "8px",
        "radius-MultiCombobox": "30px",
        "color-placeholder-MultiCombobox-default": "blue",
      },
    },
  ]}
  app={`<MultiCombobox placeholder="I am a placeholder" />`}
/>

To style all input controls not just this component, use `Input` instead of the `MultiCombobox` segment:

```
color-border-Input: "#0033FF"
```

`Input` affects the following controls:

- [`Checkbox`](./Checkbox.mdx)
- [`NumberBox`](./NumberBox.mdx)
- [`RadioGroupOption`](./RadioGroupOption.mdx)
- [`Select`](./Select.mdx)
- [`Switch`](./Switch.mdx)
- [`TextArea`](./TextArea.mdx)
- [`TextBox`](./TextBox.mdx)
- [`MultiSelect`](./MultiSelect.mdx)

See [custom themes](../learning/themes/overview.mdx) for styling details.
