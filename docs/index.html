<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/resources/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script>window.__PUBLIC_PATH = '/'</script>
    <base href="/">
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/index.ts"></script>


    <script>
window.transformStops = function(stops) {

  return stops.map(function(stop) {

    // Helper to extract a value from additionalProperties by key
    function getProp(key) {
      if (!stop.additionalProperties) return '';
      var propObj = stop.additionalProperties.find(function(p) { return p.key === key; });
      return propObj ? propObj.value : '';
    }

    return {
      name: stop.commonName,
      zone: getProp('Zone'),
      wifi: getProp('WiFi'),
      toilets: getProp('Toilets'),
      // A comma-separated list of line names that serve this stop
      lines: stop.lines
        ? stop.lines.map(function(line) { return line.name; }).join(', ')
        : ''
    };

  });
}

window.getComponentsList = function(items) {
  const onlyComponents = items.filter(item => item.name === 'components');
  return onlyComponents;
}

    </script>
  </body>
</html>
