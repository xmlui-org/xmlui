@use "xmlui/themes.scss" as t;

// --- This code snippet is required to collect the theme variables used in this module
$themeVars: ();
@function createThemeVar($componentVariable) {
  $themeVars: t.appendThemeVar($themeVars, $componentVariable) !global;
  @return t.getThemeVar($themeVars, $componentVariable);
}

$component: "HeroSection";
$preamble: "preamble-#{$component}";
$headline: "headline-#{$component}";
$subheadline: "subheadline-#{$component}";
$mainText: "mainText-#{$component}";

$themeVars: t.composePaddingVars($themeVars, $component);
$themeVars: t.composeTextVars($themeVars, $headline);
$themeVars: t.composeTextVars($themeVars, $subheadline);
$themeVars: t.composeTextVars($themeVars, $preamble);
$themeVars: t.composeTextVars($themeVars, $mainText);

@layer components {
  .heroWrapper {
    display: flex;
    flex-direction: column;
    position: relative;
    z-index: 0; // Create a stacking context to contain z-index values
    overflow: hidden; // Prevent background from extending beyond bounds

    .backgroundTemplate {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: -1; // Place behind content but within the hero wrapper's context
    }

    .heroContent {
      position: relative;
      z-index: 0; // Above background but within normal document flow
      display: flex;
      flex-direction: column;
      @include t.paddingVars($themeVars, $component);
      // --- Here, 2 * t.$space-4 accounts for the left and right padding of the page area
      width: calc(createThemeVar("maxWidth-content") - 2 * t.$space-4);
      margin: 0 auto; // Center horizontally within parent

      &.horizontal {
        flex-direction: row;
        align-items: flex-start;
      }

      &.vertical {
        flex-direction: column;
      }
    }

    .header {
      display: flex;
      flex-direction: column;
    }

    .content {
      display: flex;
      flex-direction: column;
      flex: 1;

      &.contentStart {
        align-items: flex-start;
      }

      &.contentCenter {
        align-items: center;
      }

      &.contentEnd {
        align-items: flex-end;
      }
    }

    .headingSection {
      display: flex;
      flex-direction: column;

      &.start {
        text-align: start;
        align-items: flex-start;
      }

      &.center {
        text-align: center;
        align-items: center;
      }

      &.end {
        text-align: end;
        align-items: flex-end;
      }
    }
  }

  .preamble {
    @include t.textVars($themeVars, $preamble);
    white-space: pre-wrap;
    display: inline-block;
    margin: 0;
    padding-bottom: createThemeVar("gap-#{$preamble}");
  }

  .headline {
    @include t.textVars($themeVars, $headline);
    white-space: pre-wrap;
    display: inline-block;
    margin: 0;
    padding-bottom: createThemeVar("gap-#{$headline}");
  }

  .subheadline {
    @include t.textVars($themeVars, $subheadline);
    white-space: pre-wrap;
    display: inline-block;
    margin: 0;
    padding-bottom: createThemeVar("gap-#{$subheadline}");
  }

  .textWrapper {
    display: flex;
    flex-direction: column;
    white-space: pre-wrap;
    padding-bottom: createThemeVar("gap-#{$mainText}");
  }

  .mainText {
    @include t.textVars($themeVars, $mainText);
    white-space: pre-wrap;
    display: inline-block;
    margin: 0;
    padding-bottom: createThemeVar("gap-#{$mainText}");
  }

  .ctaButtonWrapper {
    margin-top: t.$space-16;
  }

  .ctaButton {
    font-size: 1.5em;
  }
}

:export {
  themeVars: t.json-stringify($themeVars);
}
