"import data from "../../examples/list-component-data";"

# List

The `List` component is a robust layout container that renders associated data items as a list of components.
`List` is virtualized; it renders only items that are visible in the viewport.

## Props

In the following section the examples use the same data list:

| Id   | Name    | Quantity | Unit   | Category   |
| :--- | :------ | :------- | :----- | :--------- |
| 0    | Apples  | 5        | pieces | fruits     |
| 1    | Bananas | 6        | pieces | fruits     |
| 2    | Carrots | 100      | grams  | vegetables |
| 3    | Spinach | 1        | bunch  | vegetables |
| 4    | Milk    | 10       | liter  | diary      |
| 5    | Cheese  | 200      | grams  | diary      |

The data is provided as JSON.

### `availableSections`

%-PROP-START data

### `data`

The component receives its data via this property.
The `data` prop is an array of items that the `List` can display.

Note how the `List` infers the given data and provides a simple layout for it.
To tweak what data and how it is displayed, see the [`itemTemplate` section](#itemtemplate).

```ueml copy
<List data="{[...]}" />
```

<Playground
  previewOnly
  name="Example: data"
  height={400}
  app={`<List data='{${JSON.stringify(data)}}' />`}
/>

%-PROP-END

%-PROP-START defaultSections

_defaultSections_

%-PROP-END

%-PROP-START emptyListTemplate

This prop displays the given component as a placeholder if the `loader` prop is false and the `data` items length is 0 or is not set.

```ueml copy
<List>
  <prop name="emptyListTemplate">
    <Stack width="100%" horizontalAlignment="center">
      <Text variant="strong" value="Empty..." />
    </Stack>
  </prop>
</List>
```

<Playground
  previewOnly
  name="Example: emptyListTemplate"
  height={100}
  app={`
  <List>
    <prop name="emptyListTemplate">
      <Stack width="100%" horizontalAlignment="center">
        <Text variant="strong" value="Empty..." />
      </Stack>
    </prop>
  </List>
  `}
/>

%-PROP-END

%-PROP-START idKey

Denotes which attribute of an item acts as the ID or key of the item. Default is `"id"`.

NOTE: Why is this useful?

```ueml /idKey="key"/
<List idKey="key" data="{[...]}" />
```

<Playground
  previewOnly
  name="Example: idKey"
  height={400}
  app={`<List idKey="key" data='{${JSON.stringify(data)}}' />`}
/>

%-PROP-END

%-PROP-START itemTemplate

This prop allows the customization of mapping data items to components.
You can use the `$item` syntax to access an item and potentially map its individual attributes.

Note how in the example below the `$item` is used to access the `name`, `quantity` and `unit` attributes.

```ueml copy {2-12}
<List data="{[...]}">
  <prop name="itemTemplate">
    <Card>
      <HStack verticalAlignment="center" gap="0.5rem">
        <Icon name="info" />
        <Text value="{$item.name}" variant="strong" />
      </HStack>
      <HStack gap="0.5rem">
        <Text value="{$item.quantity}" />
        <Text value="{$item.unit}" variant="em" />
      </HStack>
    </Card>
  </prop>
</List>
```

<Playground
  previewOnly
  name="Example: itemTemplate"
  height={400}
  app={`
  <List data='{${JSON.stringify(data)}}'>
    <prop name="itemTemplate">
      <Card>
        <HStack verticalAlignment="center" gap="0.5rem">
          <Icon name="info" />
          <Text value="{$item.name}" variant="strong" />
        </HStack>
        <HStack gap="0.5rem">
          <Text value="{$item.quantity}" />
          <Text value="{$item.unit}" variant="em" />
        </HStack>
      </Card>
    </prop>
  </List>
  `}
/>

%-PROP-END

%-PROP-START limit

Limit the number of items displayed in the `List`.

```ueml /limit="4"/
<List limit="4" data="{[...]}" />
```

<Playground
  previewOnly
  name="Example: limit"
  height={400}
  app={`<List limit="4" data='{${JSON.stringify(data)}}' />`}
/>

%-PROP-END

%-PROP-START loading

The `loading` prop delays the rendering of children until it is set to false,
or the component receives usable list items via the `data` prop.

```ueml copy
<List loading="true" />
```

<Playground
  previewOnly
  name="Example: loading"
  height={60}
  app={`<List loading="true" />`}
/>

%-PROP-END

%-PROP-START orderBy

This prop provides access to order the list items according to an attribute in the data.

NOTE: unintuitive to use, too JSON-like

```ueml /orderBy="{{ field: 'quantity', direction: 'desc' }}"/
<List orderBy="{{ field: 'quantity', direction: 'desc' }}" data="{[...]}" />
```

<Playground
  previewOnly
  name="Example: orderBy"
  height={400}
  app={`<List orderBy="{{ field: 'quantity', direction: 'desc' }}" data='{${JSON.stringify(data)}}' />`}
/>

%-PROP-END

%-PROP-START pageInfo

This property contains the current page information which also enures the `List` uses pagination.
It contains the following boolean attributes:

| Attribute            | Description                          |
| :------------------- | :------------------------------------|
| `hasPrevPage`        | Does the list have a previous page   |
| `hasNextPage`        | Does the list have a next page       |
| `isFetchingPrevPage` | _TBD_                                |
| `isFetchingNextPage` | _TBD_                                |

%-PROP-END

%-PROP-START sectionBy

NOTE: produces error, don't know why? Does it need a defaultSections prop? Why? Tried `defaultSections="{['category']}"` and did not work.

{/*
```ueml {2}
<List
    sectionBy="category"
    data="{[...]}"
/>
```

<Playground
  previewOnly
  name="Example: sectionBy"
  height={400}
  app={`<List
    sectionBy="category"
    data='{${JSON.stringify(data)}}'
/>
  `}
/>
*/}

%-PROP-END

%-PROP-START sectionFooterTemplate

NOTE: Can't make it work because sectionBy is hard to figure out how to use

%-PROP-END

%-PROP-START sectionsInitiallyExpanded

NOTE: Can't make it work because sectionBy is hard to figure out how to use

%-PROP-END

%-PROP-START sectionTemplate

NOTE: Can't make it work because sectionBy is hard to figure out how to use

%-PROP-END

%-PROP-START selectedIndex

This prop scrolls to a specific item indicated by its index. Note, that 

NOTE: This is a specific use case. We could make it work with a different approach, though. Hard to understand and use.

```ueml /selectedIndex="2"/
<List selectedIndex="2" data="{[...]}" />
```

<Playground
  previewOnly
  name="Example: selectedIndex"
  height={400}
  app={`<List selectedIndex="2" data='{${JSON.stringify(data)}}' />`}
/>

%-PROP-END

%-PROP-START scrollAnchor

This prop places the scroll position to specific points in the list.

Possible locations: `top`, `bottom`.

```ueml /scrollAnchor="bottom"/
<List scrollAnchor="bottom" data="{[...]}" />
```

<Playground
  previewOnly
  name="Example: scrollAnchor"
  height={400}
  app={`<List scrollAnchor="bottom" data='{${JSON.stringify(data)}}' />`}
/>

%-PROP-END

%-PROP-START scrollPaddingEnd

Adds padding to the bottom of the list which is also included in the scroll area.

```ueml {2}
<List
  scrollPaddingEnd="20"
  scrollAnchor="bottom"
  data="{[...]}"
/>
```

<Playground
  previewOnly
  name="Example: scrollAnchor"
  height={400}
  app={`
  <List
    scrollPaddingEnd="20"
    scrollAnchor="bottom"
    data='{${JSON.stringify(data)}}'
  />
  `}
/>

%-PROP-END

%-PROP-START scrollPaddingStart

Adds padding to the top of the list which is also included in the scroll area.

```ueml /scrollPaddingStart="20"/
<List scrollPaddingStart="20" data="{[...]}" />
```

<Playground
  previewOnly
  name="Example: scrollPaddingStart"
  height={400}
  app={`<List scrollPaddingStart="20" data='{${JSON.stringify(data)}}' />`}
/>

%-PROP-END

%-PROP-START trackViewState

NOTE: Looks obsolete and pretty vague. No idea how to use it or what to use it for. 

%-PROP-END

%-EVENT-START requestFetchNextPage

_TBD_

%-EVENT-END

%-EVENT-START requestFetchPrevPage

_TBD_

%-EVENT-END

%-EVENT-START resetSelectedIndex

_TBD_

%-EVENT-END

%-STYLE-START

`List` is a layout container; its purpose is to render nested child components.
`List` has no theme variables to change its visual appearance.

%-STYLE-END
