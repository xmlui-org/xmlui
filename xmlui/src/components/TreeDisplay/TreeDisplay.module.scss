@use "../../components-core/theming/themes" as t;

// --- This code snippet is required to collect the theme variables used in this module
$themeVars: ();
@function createThemeVar($componentVariable) {
  $themeVars: t.appendThemeVar($themeVars, $componentVariable) !global;
  @return t.getThemeVar($themeVars, $componentVariable);
}

$component: "TreeDisplay";
$fontSize-TreeDisplay: createThemeVar("fontSize-#{$component}");
$themeVars: t.composeBorderVars($themeVars, $component);

// Variables for @layer section
$backgroundColor-TreeDisplay: createThemeVar("backgroundColor-#{$component}");
$padding-TreeDisplay: createThemeVar("padding-#{$component}");
$paddingLeft-TreeDisplay: createThemeVar("paddingLeft-#{$component}");
$fontFamily-TreeDisplay: createThemeVar("fontFamily-#{$component}");
$color-TreeDisplay: createThemeVar("color-#{$component}");
$color-connect-TreeDisplay: createThemeVar("color-connect-#{$component}");

@layer components {
  .treeDisplay {
    display: block;
    @include t.borderVars($themeVars, $component);
    background-color: $backgroundColor-TreeDisplay;
    padding: $padding-TreeDisplay;
    padding-left: $paddingLeft-TreeDisplay;
  }

  .content {
    display: block;
    word-break: break-word;
    font-family: $fontFamily-TreeDisplay;
    font-size: $fontSize-TreeDisplay;
    color: $color-TreeDisplay;
  }

  .treeNode {
    position: relative;
    padding: 0;
    margin: 0;
  }

  .treeNodeRow {
    display: flex;
    align-items: center;
    position: relative;
    margin: 0;
  }

  .connectorArea {
    position: relative;
    flex-shrink: 0;
  }

  .connector {
    position: absolute;
    top: 0;
    left: 0;
  }

  .connectorLine {
    stroke: $color-connect-TreeDisplay;
    fill: none;
  }

  .ancestorLine {
    position: absolute;
    top: 0;
    width: 1.5px;
    height: 100%;
    background-color: $color-connect-TreeDisplay;
    z-index: 1;
    pointer-events: none;
  }

  .treeNodeContent {
    padding: 0 4px;
    display: inline-block;
    position: relative;
    z-index: 2;
  }

  .childrenContainer {
    position: relative;
    margin: 0;
    padding: 0;
  }
}

// --- We export the theme variables to add them to the component renderer
:export {
  themeVars: t.json-stringify($themeVars);
}
