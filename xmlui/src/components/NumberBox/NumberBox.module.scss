@use "../../components-core/theming/themes" as t;

// --- This code snippet is required to collect the theme variables used in this module
$themeVars: (
);

@function createThemeVar($componentVariable) {
  $themeVars: t.appendThemeVar($themeVars, $componentVariable) !global;
  @return t.getThemeVar($themeVars, $componentVariable);
}

$componentName: "NumberBox";
$themeVars: t.composePaddingVars($themeVars, $componentName);

// Variables for default variant
$borderRadius-NumberBox-default: createThemeVar("Input:borderRadius-#{$componentName}-default");
$borderColor-NumberBox-default: createThemeVar("Input:borderColor-#{$componentName}-default");
$borderWidth-NumberBox-default: createThemeVar("Input:borderWidth-#{$componentName}-default");
$borderStyle-NumberBox-default: createThemeVar("Input:borderStyle-#{$componentName}-default");
$fontSize-NumberBox-default: createThemeVar("Input:fontSize-#{$componentName}-default");
$backgroundColor-NumberBox-default: createThemeVar("Input:backgroundColor-#{$componentName}-default");
$boxShadow-NumberBox-default: createThemeVar("Input:boxShadow-#{$componentName}-default");
$textColor-NumberBox-default: createThemeVar("Input:textColor-#{$componentName}-default");
$borderColor-NumberBox-default--hover: createThemeVar("Input:borderColor-#{$componentName}-default--hover");
$backgroundColor-NumberBox-default--hover: createThemeVar("Input:backgroundColor-#{$componentName}-default--hover");
$boxShadow-NumberBox-default--hover: createThemeVar("Input:boxShadow-#{$componentName}-default--hover");
$textColor-NumberBox-default--hover: createThemeVar("Input:textColor-#{$componentName}-default--hover");
$borderColor-NumberBox-default--focus: createThemeVar("Input:borderColor-#{$componentName}-default--focus");
$backgroundColor-NumberBox-default--focus: createThemeVar("Input:backgroundColor-#{$componentName}-default--focus");
$boxShadow-NumberBox-default--focus: createThemeVar("Input:boxShadow-#{$componentName}-default--focus");
$textColor-NumberBox-default--focus: createThemeVar("Input:textColor-#{$componentName}-default--focus");
$outlineWidth-NumberBox-default--focus: createThemeVar("Input:outlineWidth-#{$componentName}-default--focus");
$outlineColor-NumberBox-default--focus: createThemeVar("Input:outlineColor-#{$componentName}-default--focus");
$outlineStyle-NumberBox-default--focus: createThemeVar("Input:outlineStyle-#{$componentName}-default--focus");
$outlineOffset-NumberBox-default--focus: createThemeVar("Input:outlineOffset-#{$componentName}-default--focus");
$textColor-placeholder-NumberBox-default: createThemeVar("Input:textColor-placeholder-#{$componentName}-default");
$fontSize-placeholder-NumberBox-default: createThemeVar("Input:fontSize-placeholder-#{$componentName}-default");
$color-adornment-NumberBox-default: createThemeVar("Input:color-adornment-#{$componentName}-default");

// Variables for error variant
$borderRadius-NumberBox-error: createThemeVar("Input:borderRadius-#{$componentName}-error");
$borderColor-NumberBox-error: createThemeVar("Input:borderColor-#{$componentName}-error");
$borderWidth-NumberBox-error: createThemeVar("Input:borderWidth-#{$componentName}-error");
$borderStyle-NumberBox-error: createThemeVar("Input:borderStyle-#{$componentName}-error");
$fontSize-NumberBox-error: createThemeVar("Input:fontSize-#{$componentName}-error");
$backgroundColor-NumberBox-error: createThemeVar("Input:backgroundColor-#{$componentName}-error");
$boxShadow-NumberBox-error: createThemeVar("Input:boxShadow-#{$componentName}-error");
$textColor-NumberBox-error: createThemeVar("Input:textColor-#{$componentName}-error");
$borderColor-NumberBox-error--hover: createThemeVar("Input:borderColor-#{$componentName}-error--hover");
$backgroundColor-NumberBox-error--hover: createThemeVar("Input:backgroundColor-#{$componentName}-error--hover");
$boxShadow-NumberBox-error--hover: createThemeVar("Input:boxShadow-#{$componentName}-error--hover");
$textColor-NumberBox-error--hover: createThemeVar("Input:textColor-#{$componentName}-error--hover");
$borderColor-NumberBox-error--focus: createThemeVar("Input:borderColor-#{$componentName}-error--focus");
$backgroundColor-NumberBox-error--focus: createThemeVar("Input:backgroundColor-#{$componentName}-error--focus");
$boxShadow-NumberBox-error--focus: createThemeVar("Input:boxShadow-#{$componentName}-error--focus");
$textColor-NumberBox-error--focus: createThemeVar("Input:textColor-#{$componentName}-error--focus");
$outlineWidth-NumberBox-error--focus: createThemeVar("Input:outlineWidth-#{$componentName}-error--focus");
$outlineColor-NumberBox-error--focus: createThemeVar("Input:outlineColor-#{$componentName}-error--focus");
$outlineStyle-NumberBox-error--focus: createThemeVar("Input:outlineStyle-#{$componentName}-error--focus");
$outlineOffset-NumberBox-error--focus: createThemeVar("Input:outlineOffset-#{$componentName}-error--focus");
$textColor-placeholder-NumberBox-error: createThemeVar("Input:textColor-placeholder-#{$componentName}-error");
$fontSize-placeholder-NumberBox-error: createThemeVar("Input:fontSize-placeholder-#{$componentName}-error");
$color-adornment-NumberBox-error: createThemeVar("Input:color-adornment-#{$componentName}-error");

// Variables for warning variant
$borderRadius-NumberBox-warning: createThemeVar("Input:borderRadius-#{$componentName}-warning");
$borderColor-NumberBox-warning: createThemeVar("Input:borderColor-#{$componentName}-warning");
$borderWidth-NumberBox-warning: createThemeVar("Input:borderWidth-#{$componentName}-warning");
$borderStyle-NumberBox-warning: createThemeVar("Input:borderStyle-#{$componentName}-warning");
$fontSize-NumberBox-warning: createThemeVar("Input:fontSize-#{$componentName}-warning");
$backgroundColor-NumberBox-warning: createThemeVar("Input:backgroundColor-#{$componentName}-warning");
$boxShadow-NumberBox-warning: createThemeVar("Input:boxShadow-#{$componentName}-warning");
$textColor-NumberBox-warning: createThemeVar("Input:textColor-#{$componentName}-warning");
$borderColor-NumberBox-warning--hover: createThemeVar("Input:borderColor-#{$componentName}-warning--hover");
$backgroundColor-NumberBox-warning--hover: createThemeVar("Input:backgroundColor-#{$componentName}-warning--hover");
$boxShadow-NumberBox-warning--hover: createThemeVar("Input:boxShadow-#{$componentName}-warning--hover");
$textColor-NumberBox-warning--hover: createThemeVar("Input:textColor-#{$componentName}-warning--hover");
$borderColor-NumberBox-warning--focus: createThemeVar("Input:borderColor-#{$componentName}-warning--focus");
$backgroundColor-NumberBox-warning--focus: createThemeVar("Input:backgroundColor-#{$componentName}-warning--focus");
$boxShadow-NumberBox-warning--focus: createThemeVar("Input:boxShadow-#{$componentName}-warning--focus");
$textColor-NumberBox-warning--focus: createThemeVar("Input:textColor-#{$componentName}-warning--focus");
$outlineWidth-NumberBox-warning--focus: createThemeVar("Input:outlineWidth-#{$componentName}-warning--focus");
$outlineColor-NumberBox-warning--focus: createThemeVar("Input:outlineColor-#{$componentName}-warning--focus");
$outlineStyle-NumberBox-warning--focus: createThemeVar("Input:outlineStyle-#{$componentName}-warning--focus");
$outlineOffset-NumberBox-warning--focus: createThemeVar("Input:outlineOffset-#{$componentName}-warning--focus");
$textColor-placeholder-NumberBox-warning: createThemeVar("Input:textColor-placeholder-#{$componentName}-warning");
$fontSize-placeholder-NumberBox-warning: createThemeVar("Input:fontSize-placeholder-#{$componentName}-warning");
$color-adornment-NumberBox-warning: createThemeVar("Input:color-adornment-#{$componentName}-warning");

// Variables for success variant
$borderRadius-NumberBox-success: createThemeVar("Input:borderRadius-#{$componentName}-success");
$borderColor-NumberBox-success: createThemeVar("Input:borderColor-#{$componentName}-success");
$borderWidth-NumberBox-success: createThemeVar("Input:borderWidth-#{$componentName}-success");
$borderStyle-NumberBox-success: createThemeVar("Input:borderStyle-#{$componentName}-success");
$fontSize-NumberBox-success: createThemeVar("Input:fontSize-#{$componentName}-success");
$backgroundColor-NumberBox-success: createThemeVar("Input:backgroundColor-#{$componentName}-success");
$boxShadow-NumberBox-success: createThemeVar("Input:boxShadow-#{$componentName}-success");
$textColor-NumberBox-success: createThemeVar("Input:textColor-#{$componentName}-success");
$borderColor-NumberBox-success--hover: createThemeVar("Input:borderColor-#{$componentName}-success--hover");
$backgroundColor-NumberBox-success--hover: createThemeVar("Input:backgroundColor-#{$componentName}-success--hover");
$boxShadow-NumberBox-success--hover: createThemeVar("Input:boxShadow-#{$componentName}-success--hover");
$textColor-NumberBox-success--hover: createThemeVar("Input:textColor-#{$componentName}-success--hover");
$borderColor-NumberBox-success--focus: createThemeVar("Input:borderColor-#{$componentName}-success--focus");
$backgroundColor-NumberBox-success--focus: createThemeVar("Input:backgroundColor-#{$componentName}-success--focus");
$boxShadow-NumberBox-success--focus: createThemeVar("Input:boxShadow-#{$componentName}-success--focus");
$textColor-NumberBox-success--focus: createThemeVar("Input:textColor-#{$componentName}-success--focus");
$outlineWidth-NumberBox-success--focus: createThemeVar("Input:outlineWidth-#{$componentName}-success--focus");
$outlineColor-NumberBox-success--focus: createThemeVar("Input:outlineColor-#{$componentName}-success--focus");
$outlineStyle-NumberBox-success--focus: createThemeVar("Input:outlineStyle-#{$componentName}-success--focus");
$outlineOffset-NumberBox-success--focus: createThemeVar("Input:outlineOffset-#{$componentName}-success--focus");
$textColor-placeholder-NumberBox-success: createThemeVar("Input:textColor-placeholder-#{$componentName}-success");
$fontSize-placeholder-NumberBox-success: createThemeVar("Input:fontSize-placeholder-#{$componentName}-success");
$color-adornment-NumberBox-success: createThemeVar("Input:color-adornment-#{$componentName}-success");

// Variables for @layer section
$gap-adornment-NumberBox: createThemeVar("Input:gap-adornment-#{$componentName}");
$backgroundColor-NumberBox--disabled: createThemeVar("Input:backgroundColor-NumberBox--disabled");
$textColor-NumberBox--disabled: createThemeVar("Input:textColor-NumberBox--disabled");
$borderColor-NumberBox--disabled: createThemeVar("Input:borderColor-NumberBox--disabled");

// --- CSS properties of a particular NumberBox variant
@mixin variant($variantName) {
  border-radius: createThemeVar("Input:borderRadius-#{$componentName}-#{$variantName}");
  border-color: createThemeVar("Input:borderColor-#{$componentName}-#{$variantName}");
  border-width: createThemeVar("Input:borderWidth-#{$componentName}-#{$variantName}");
  border-style: createThemeVar("Input:borderStyle-#{$componentName}-#{$variantName}");
  font-size: createThemeVar("Input:fontSize-#{$componentName}-#{$variantName}");

  background-color: createThemeVar("Input:backgroundColor-#{$componentName}-#{$variantName}");
  box-shadow: createThemeVar("Input:boxShadow-#{$componentName}-#{$variantName}");
  color: createThemeVar("Input:textColor-#{$componentName}-#{$variantName}");

  &:hover {
    border-color: createThemeVar("Input:borderColor-#{$componentName}-#{$variantName}--hover");
    background-color: createThemeVar("Input:backgroundColor-#{$componentName}-#{$variantName}--hover"
    );
    box-shadow: createThemeVar("Input:boxShadow-#{$componentName}-#{$variantName}--hover");
    color: createThemeVar("Input:textColor-#{$componentName}-#{$variantName}--hover");
  }

  &:focus-within {
    border-color: createThemeVar("Input:borderColor-#{$componentName}-#{$variantName}--focus");
    background-color: createThemeVar("Input:backgroundColor-#{$componentName}-#{$variantName}--focus"
    );
    box-shadow: createThemeVar("Input:boxShadow-#{$componentName}-#{$variantName}--focus");
    color: createThemeVar("Input:textColor-#{$componentName}-#{$variantName}--focus");
  }

  &:has(.input:focus-visible) {
    outline-width: createThemeVar("Input:outlineWidth-#{$componentName}-#{$variantName}--focus");
    outline-color: createThemeVar("Input:outlineColor-#{$componentName}-#{$variantName}--focus");
    outline-style: createThemeVar("Input:outlineStyle-#{$componentName}-#{$variantName}--focus");
    outline-offset: createThemeVar("Input:outlineOffset-#{$componentName}-#{$variantName}--focus");
  }

  .input {
    &::placeholder {
      color: createThemeVar("Input:textColor-placeholder-#{$componentName}-#{$variantName}");
      font-size: createThemeVar("Input:fontSize-placeholder-#{$componentName}-#{$variantName}");
    }
  }

  .adornment {
    color: createThemeVar("Input:color-adornment-#{$componentName}-#{$variantName}");

    * {
      color: inherit;
    }
  }
}

@layer components {
  .inputRoot {
    display: flex;
    align-items: center;
    gap: $gap-adornment-NumberBox;
    width: 100%;
    border-style: solid;
    border-width: 1px;
    transition: background-color ease-in 0.1s;
    overflow: hidden;
    @include t.paddingVars($themeVars, $componentName);

    @include variant("default");

    &.error {
      @include variant("error");
    }

    &.warning {
      @include variant("warning");
    }

    &.valid {
      @include variant("success");
    }

    &:has(.input:is(:disabled)) {
      cursor: not-allowed;
      background-color: $backgroundColor-NumberBox--disabled;
      color: $textColor-NumberBox--disabled;
      border-color: $borderColor-NumberBox--disabled;
    }

    &.rtl {
      flex-direction: row-reverse;
    }

    .input {
      font-size: inherit;
      color: inherit;
      border: 0;
      outline: none;
      background-color: transparent;
      padding: 0;
      width: 100%;
      cursor: inherit;

      /* Remove default spinners */
      /* Chrome, Safari, Edge, Opera */
      &::-webkit-outer-spin-button,
      &::-webkit-inner-spin-button {
        -webkit-appearance: none;
        margin: 0;
      }

      /* Firefox */
      -webkit-appearance: textfield;
      -moz-appearance: textfield;
      appearance: textfield;
    }

    .spinnerBox {
      display: flex;
      flex-direction: column;
      height: 0;
      align-items: center;
      justify-content: center;
    }

    .spinnerButton {
      padding: 0 !important;
      width: t.$space-6;
      border: none;

      // &:hover {
      //   background-color: transparent !important;
      // }
    }
  }

  .readOnly {
    cursor: text;
  }
}

// --- We export the theme variables to add them to the component renderer
:export {
  themeVars: t.json-stringify($themeVars);
}