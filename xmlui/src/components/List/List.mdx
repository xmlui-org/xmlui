%-IMPORT-START

import data from "./doc-resources/list-component-data.js";

%-IMPORT-END

%-DESC-START

In the following examples all use the same list of data which looks like so:

| Id   | Name    | Quantity | Unit   | Category   | Key  |
| :--- | :------ | :------- | :----- | :--------- | :--- |
| 0    | Apples  | 5        | pieces | fruits     | 5    |
| 1    | Bananas | 6        | pieces | fruits     | 4    |
| 2    | Carrots | 100      | grams  | vegetables | 3    |
| 3    | Spinach | 1        | bunch  | vegetables | 2    |
| 4    | Milk    | 10       | liter  | diary      | 1    |
| 5    | Cheese  | 200      | grams  | diary      | 0    |

The data is provided as JSON.

%-DESC-END

%-PROP-START data

Note how the `List` infers the given data and provides a simple layout for it.
To tweak what data and how it is displayed, see the [`itemTemplate` section](#itemtemplate).

```xmlui copy
<App>
  <List data='{[...]}' />
</App>
```

<Playground
  name="Example: data"
  height={400}
  app={`
    <App>
      <List data='{${JSON.stringify(data, null, 2)}}' />
    </App>
  `}
/>

You can also provide the `List` with data directly from an API via this property.

In the example below, the `List` also uses the `itemTemplate` property to access the data attributes as well.
See the [itemTemplate section](#itemtemplate).

```xmlui copy {2}
<App>
  <List data='https://api.spacexdata.com/v3/rockets'>
    <property name="itemTemplate">
      <Card>
        <Image height="100px" fit="cover" src="{$item.flickr_images[0]}"/>
        <Text value="{$item.country}" />
        <Text value="{$item.company}" variant="strong" />
      </Card>
    </property>
  </List>
</App>
```

<Playground
  name="Example: data API Call"
  height={400}
  app={`
  <App>
    <List data='https://api.spacexdata.com/v3/rockets'>
      <property name="itemTemplate">
        <Card>
          <Image height="100px" fit="cover" src="{$item.flickr_images[0]}"/>
          <Text value="{$item.country}" />
          <Text value="{$item.company}" variant="strong" />
        </Card>
      </property>
    </List>
  </App>
  `}
/>

%-PROP-END

%-PROP-START defaultGroups

<Callout type="info" emoji="ðŸ“”">
For the `defaultGroups` property to work, the data must be sectioned using the [`groupBy`](#groupBy) property,
and either a [`groupHeaderTemplate`](#groupHeaderTemplate) or a [`groupFooterTemplate`](#groupFooterTemplate) needs to be provided.
</Callout>

```xmlui copy {4}
<App>
  <List
    data='{[...]}'
    defaultGroups="{['dairy', 'meat', 'vegetables']}"
    groupBy="category" >
    <property name="groupHeaderTemplate">
      <VStack>
        <Text variant="subtitle" value="{$group.key}" />
      </VStack>
    </property>
  </List>
</App>
```

<Playground
  name="Example: defaultGroups"
  height={400}
  app={`
    <App>
      <List
        data='{${JSON.stringify(data, null, 2)}}'
        defaultGroups="{['dairy', 'meat', 'vegetables']}"
        groupBy="category">
        <property name="groupHeaderTemplate">
          <VStack>
            <Text variant="subtitle" value="{$group.key}" />
          </VStack>
        </property>
      </List>
    </App>
  `}
/>

%-PROP-END

%-PROP-START emptyListTemplate

```xmlui copy
<App>
  <List>
    <property name="emptyListTemplate">
      <VStack horizontalAlignment="center">
        <Text variant="strong" value="Empty..." />
      </VStack>
    </property>
  </List>
</App>
```

<Playground
  name="Example: emptyListTemplate"
  height={140}
  app={`
    <App>
      <List>
        <property name="emptyListTemplate">
          <VStack horizontalAlignment="center">
            <Text variant="strong" value="Empty..." />
          </VStack>
        </property>
      </List>
    </App>
  `}
/>

%-PROP-END

%-PROP-START idKey

```xmlui /idKey="key"/
<App>
  <List idKey="key" data='{[...]}' />
</App>
```

<Playground
  name="Example: idKey"
  height={400}
  app={`
    <App>
      <List idKey="key" data='{${JSON.stringify(data, null, 2)}}' />
    </App>
  `}
/>

%-PROP-END

%-PROP-START itemTemplate

Note how in the example below the `$item` is used to access the `name`, `quantity` and `unit` attributes.

```xmlui copy {3-14}
<App>
  <List data='{[...]}'>
    <property name="itemTemplate">
      <Card>
        <HStack verticalAlignment="center">
          <Icon name="info" />
          <Text value="{$item.name}" variant="strong" />
        </HStack>
        <HStack>
          <Text value="{$item.quantity}" />
          <Text value="{$item.unit}" variant="em" />
        </HStack>
      </Card>
    </property>
  </List>
</App>
```

<Playground
  name="Example: itemTemplate"
  height={400}
  app={`
    <App>
      <List data='{${JSON.stringify(data, null, 2)}}'>
        <property name="itemTemplate">
          <Card>
            <HStack verticalAlignment="center">
              <Icon name="info" />
              <Text value="{$item.name}" variant="strong" />
            </HStack>
            <HStack>
              <Text value="{$item.quantity}" />
              <Text value="{$item.unit}" variant="em" />
            </HStack>
          </Card>
        </property>
      </List>
    </App>
  `}
/>

%-PROP-END

%-PROP-START limit

```xmlui /limit="4"/
<App>
  <List limit="4" data='{[...]}' />
</App>
```

<Playground
  name="Example: limit"
  height={400}
  app={`
    <App>
      <List limit="4" data='{${JSON.stringify(data, null, 2)}}' />
    </App>
  `}
/>

%-PROP-END

%-PROP-START loading

```xmlui copy
<App>
  <List loading="true" />
</App>
```

<Playground
  name="Example: loading"
  height={120}
  app={`
    <App>
      <List loading="true" />
    </App>
  `}
/>

%-PROP-END

%-PROP-START orderBy

```xmlui /orderBy="{{ field: 'quantity', direction: 'desc' }}"/
<App>
  <List orderBy="{{ field: 'quantity', direction: 'desc' }}" data='{[...]}' />
</App>
```

<Playground
  name="Example: orderBy"
  height={400}
  app={`
    <App>
      <List 
        orderBy="{{ field: 'quantity', direction: 'desc' }}" 
        data='{${JSON.stringify(data, null, 2)}}' />
    </App>
  `}
/>

%-PROP-END

%-PROP-START pageInfo

It contains the following boolean attributes:

| Attribute            | Description                          |
| :------------------- | :------------------------------------|
| `hasPrevPage`        | Does the list have a previous page   |
| `hasNextPage`        | Does the list have a next page       |
| `isFetchingPrevPage` | _TBD_                                |
| `isFetchingNextPage` | _TBD_                                |

%-PROP-END

%-PROP-START groupBy

<Callout type="info" emoji="ðŸ“”">
For the `groupBy` property to work, either a [`groupHeaderTemplate`](#groupHeaderTemplate)
or a [`groupFooterTemplate`](#groupFooterTemplate) needs to be provided.
</Callout>

```xmlui copy {3}
<App>
  <List
    data='{[...]}'
    groupBy="category">
    <property name="groupHeaderTemplate">
      <VStack>
        <Text variant="subtitle" value="{$group.key}" />
      </VStack>
    </property>
  </List>
</App>
```

<Playground
  name="Example: groupBy"
  height={400}
  app={`
    <App>
      <List
        data='{${JSON.stringify(data, null, 2)}}'
        groupBy="category">
        <property name="groupHeaderTemplate">
          <VStack>
            <Text variant="subtitle" value="{$group.key}" />
          </VStack>
        </property>
      </List>
    </App>
  `}
/>

%-PROP-END

%-PROP-START groupFooterTemplate

The structure of `$group` in a `groupFooterTemplate` is the following:

| Attribute | Description                                                                                                   |
| --------- | ------------------------------------------------------------------------------------------------------------- |
| id        | Unique identifier for the section. It is commonly generated from the attribute name provided via `groupBy`.   |
| items     | The items filtered from the original data list that fall into this section.                                   |
| key       | The attribute name to section by provided via `groupBy`                                                       |

This example displays a separator line in the groups' footer:

```xmlui copy {8-12}
<App>
  <List data='{${JSON.stringify(data, null, 2)}}' groupBy="category">
    <property name="groupHeaderTemplate">
      <VStack>
        <Text variant="subtitle" value="{$group.key}" />
      </VStack>
    </property>
    <property name="groupFooterTemplate">
      <VStack paddingVertical="$space-normal">
        <ContentSeparator/>
      </VStack>
    </property>
  </List>
</App>
```

<Playground
  name="Example: groupFooterTemplate"
  height={400}
  app={`
    <App>
      <List data='{${JSON.stringify(data, null, 2)}}' groupBy="category">
        <property name="groupHeaderTemplate">
          <VStack>
            <Text variant="subtitle" value="{$group.key}" />
          </VStack>
        </property>
        <property name="groupFooterTemplate">
          <VStack paddingVertical="$space-normal">
            <ContentSeparator/>
          </VStack>
        </property>
      </List>
    </App>
  `}
/>

%-PROP-END

%-PROP-START groupHeaderTemplate

The structure of `$group` in a `groupHeaderTemplate` is the following:

| Attribute | Description                                                                                                   |
| --------- | ------------------------------------------------------------------------------------------------------------- |
| id        | Unique identifier for the section. It is commonly generated from the attribute name provided via `groupBy`.   |
| items     | The items filtered from the original data list that fall into this section.                                   |
| key       | The attribute name to section by provided via `groupBy`                                                       |

```xmlui copy {3-7}
<App>
  <List data='{[...]}' groupBy="category">
    <property name="groupHeaderTemplate">
      <Stack padding="$space-2">
        <Text variant="subtitle" value="{$group.key}" />
      </Stack>
    </property>
  </List>
</App>
```

<Playground
  name="Example: groupHeaderTemplate"
  height={400}
  app={`
    <App>
      <List data='{${JSON.stringify(data, null, 2)}}' groupBy="category">
        <property name="groupHeaderTemplate">
          <Stack padding="$space-2">
            <Text variant="subtitle" value="{$group.key}" />
          </Stack>
        </property>
      </List>
    </App>
  `}
/>

%-PROP-END

%-PROP-START selectedIndex

```xmlui /selectedIndex="5"/
<App>
  <List selectedIndex="5" data='{[...]}' />
</App>
```

<Playground
  name="Example: selectedIndex"
  height={400}
  app={`
    <App>
      <List selectedIndex="5" data='{${JSON.stringify(data, null, 2)}}' />
    </App>
  `}
/>

%-PROP-END

%-PROP-START scrollAnchor

```xmlui /scrollAnchor="bottom"/
<App>
  <List scrollAnchor="bottom" data='{${JSON.stringify(data, null, 2)}}' />
</App>
```

<Playground
  name="Example: scrollAnchor"
  height={400}
  app={`
    <App>
      <List scrollAnchor="bottom" data='{${JSON.stringify(data, null, 2)}}' />
    </App>
  `}
/>

%-PROP-END

%-PROP-START availableGroups

```xmlui {5}
<App>
  <List
    data="{[...]}"
    groupBy="category"
    availableGroups="{['fruits', 'vegetables']}">
    <property name="groupHeaderTemplate">
      <Stack>
        <Text variant="subtitle" value="{$group.key}" />
      </Stack>
    </property>  
  </List>
</App>
```

<Playground
  name="Example: availableGroups"
  height={400}
  app={`
    <App>
      <List availableGroups="{['fruits', 'vegetables']}" groupBy="category" data='{${JSON.stringify(data, null, 2)}}'>
        <property name="groupHeaderTemplate">
          <Stack>
            <Text variant="subtitle" value="{$group.key}" />
          </Stack>
        </property>  
      </List>
    </App>
  `}
/>

%-PROP-END

%-PROP-START borderCollapse

Note how the `List` on the right has different borders:

```xmlui /borderCollapse/
<App>
  <HStack>
    <List data="{[...]}" groupBy="category" borderCollapse="false" width="$space-48">
      <property name="groupHeaderTemplate">
        <Stack>
          <Text variant="subtitle" value="{$group.key}" />
        </Stack>
      </property>
    </List>
    <List data="{[...]}" groupBy="category" borderCollapse="true" width="$space-48">
      <property name="groupHeaderTemplate">
        <Stack>
          <Text variant="subtitle" value="{$group.key}" />
        </Stack>
      </property>
    </List>
  </HStack>
</App>
```

<Playground
  name="Example: borderCollapse"
  height={400}
  app={`
    <App>
      <HStack>
        <List data='{${JSON.stringify(data, null, 2)}}' groupBy="category" borderCollapse="false" width="$space-48">
        <property name="groupHeaderTemplate">
            <Stack>
              <Text variant="subtitle" value="{$group.key}" />
            </Stack>
          </property>
        </List>
        <List data='{${JSON.stringify(data, null, 2)}}' groupBy="category" borderCollapse="true" width="$space-48">
          <property name="groupHeaderTemplate">
            <Stack>
              <Text variant="subtitle" value="{$group.key}" />
            </Stack>
          </property>
        </List>
      </HStack>
    </App>
  `}
/>

%-PROP-END

%-PROP-START groupsInitiallyExpanded

Note how the groups in the right `List` are expanded by default:

```xmlui {3, 10}
<App>
  <HStack gap="$space-2">
    <List data="{[...]}" groupBy="category" groupsInitiallyExpanded="false" width="$space-48">
      <property name="groupHeaderTemplate">
        <Stack>
          <Text variant="subtitle" value="{$group.key}" />
        </Stack>
      </property>
    </List>
    <List data="{[...]}" groupBy="category" groupsInitiallyExpanded="true" width="$space-48">
      <property name="groupHeaderTemplate">
        <Stack>
          <Text variant="subtitle" value="{$group.key}" />
        </Stack>
      </property>
    </List>
  </HStack>
</App>
```

<Playground
  name="Example: groupsInitiallyExpanded"
  height={400}
  app={`
    <App>
      <HStack gap="$space-2"> 
        <List data='{${JSON.stringify(data, null, 2)}}' groupBy="category" groupsInitiallyExpanded="false" width="$space-48">
          <property name="groupHeaderTemplate">
            <Stack>
              <Text variant="subtitle" value="{$group.key}" />
            </Stack>
          </property>
        </List>
        <List data='{${JSON.stringify(data, null, 2)}}' groupBy="category" groupsInitiallyExpanded="true" width="$space-48">
          <property name="groupHeaderTemplate">
            <Stack>
              <Text variant="subtitle" value="{$group.key}" />
            </Stack>
          </property>
        </List>
      </HStack>
    </App>
  `}
/>

%-PROP-END

%-PROP-START hideEmptyGroups

Note how the `meats` category is not displayed in the right `List`:

```xmlui {7, 19}
<App>
  <HStack gap="$space-2">
    <List
      data="{[...]}"
      defaultGroups="{['meats']}"
      groupBy="category"
      hideEmptyGroups="false"
      width="$space-48">
      <property name="groupHeaderTemplate">
        <Stack>
          <Text variant="subtitle" value="{$group.key}" />
        </Stack>
      </property>
    </List>
    <List
      data="{[...]}"
      defaultGroups="{['meats']}"
      groupBy="category"
      hideEmptyGroups="true"
      width="$space-48">
      <property name="groupHeaderTemplate">
        <Stack>
          <Text variant="subtitle" value="{$group.key}" />
        </Stack>
      </property>
    </List>
  </HStack>
</App>
```

<Playground
  name="Example: hideEmptyGroups"
  height={400}
  app={`
    <App>
      <HStack gap="$space-2">
        <List data='{${JSON.stringify(data, null, 2)}}' defaultGroups="{['meats']}" groupBy="category" hideEmptyGroups="false" width="$space-48">
          <property name="groupHeaderTemplate">
            <Stack>
              <Text variant="subtitle" value="{$group.key}" />
            </Stack>
          </property>
        </List>
        <List data='{${JSON.stringify(data, null, 2)}}' defaultGroups="{['meats']}" groupBy="category" hideEmptyGroups="true" width="$space-48">
          <property name="groupHeaderTemplate">
            <Stack>
              <Text variant="subtitle" value="{$group.key}" />
            </Stack>
          </property>
        </List>
      </HStack>
    </App>
  `}
/>

%-PROP-END

%-STYLE-START

`List` is a layout container; its purpose is to render nested child components.
`List` has no theme variables to change its visual appearance.

%-STYLE-END

%-API-START scrollToBottom

The following example demonstrates `scrollToBottom` and all the other scroll methods:

```xmlui copy /scrollToBottom/ /scrollToTop/ /scrollToIndex/ /scrollToId/
<App layout="condensed-sticky">
  <AppHeader>
    <HStack>
      <Button onClick="myList.scrollToBottom()">Scroll to Bottom</Button>
      <Button onClick="myList.scrollToTop()">Scroll to Top</Button>
      <Button onClick="myList.scrollToIndex(25)">Scroll to #25</Button>
      <Button onClick="myList.scrollToId('item-40')">Scroll to ID 'item-40'</Button>
    </HStack>
  </AppHeader>
  <List 
    id="myList" 
    data="{Array.from({ length: 100 }).map((_, i) => ({id: 'item-' + i, value: 'Item #' + i}))}">
    <property name="itemTemplate">
      <Card>
        <Text value="{$item.value}" />
      </Card>
    </property>
  </List>
</App>
```

<Playground
  name="Example: data API Call"
  height={400}
  app={`
  <App layout="condensed-sticky">
    <AppHeader>
      <HStack>
        <Button onClick="myList.scrollToBottom()">Scroll to Bottom</Button>
        <Button onClick="myList.scrollToTop()">Scroll to Top</Button>
        <Button onClick="myList.scrollToIndex(25)">Scroll to #25</Button>
        <Button onClick="myList.scrollToId('item-40')">Scroll to ID 'item-40'</Button>
      </HStack>
    </AppHeader>
    <List 
      id="myList" 
      data="{Array.from({ length: 100 }).map((_, i) => ({id: 'item-' + i, value: 'Item #' + i}))}">
      <property name="itemTemplate">
        <Card>
          <Text value="{$item.value}" />
        </Card>
      </property>
    </List>
  </App>
  `}
/>

%-API-END

%-API-START scrollToTop

See the [`scrollToBottom`](#scrolltobottom) example.

%-API-END

%-API-START scrollToIndex

See the [`scrollToBottom`](#scrolltobottom) example.

%-API-END

%-API-START scrollToId

See the [`scrollToBottom`](#scrolltobottom) example.

%-API-END
