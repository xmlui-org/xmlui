@use "../../components-core/theming/themes" as t;

$themeVars: ();
@function createThemeVar($componentVariable) {
  $themeVars: t.appendThemeVar($themeVars, $componentVariable) !global;
  @return t.getThemeVar($themeVars, $componentVariable);
}

$component: "TableOfContents";
$backgroundColor-TableOfContents: createThemeVar("backgroundColor-#{$component}");
$width-TableOfContents: createThemeVar("width-#{$component}");
$height-TableOfContents: createThemeVar("height-#{$component}");
$themeVars: t.composeBorderVars($themeVars, $component);
$themeVars: t.composePaddingVars($themeVars, $component);

$componentItem: "TableOfContentsItem";
$themeVars: t.composeTextVars($themeVars, $componentItem);
$themeVars: t.composeBorderVars($themeVars, $componentItem);
$themeVars: t.composeBorderVars($themeVars, "#{$componentItem}--hover");
$themeVars: t.composeBorderVars($themeVars, "#{$componentItem}--active");
$themeVars: t.composePaddingVars($themeVars, $componentItem);
$themeVars: t.composePaddingVars($themeVars, "#{$componentItem}-level-1");
$themeVars: t.composeTextVars($themeVars, "#{$componentItem}-level-1");
$themeVars: t.composePaddingVars($themeVars, "#{$componentItem}-level-2");
$themeVars: t.composeTextVars($themeVars, "#{$componentItem}-level-2");
$themeVars: t.composePaddingVars($themeVars, "#{$componentItem}-level-3");
$themeVars: t.composeTextVars($themeVars, "#{$componentItem}-level-3");
$themeVars: t.composePaddingVars($themeVars, "#{$componentItem}-level-4");
$themeVars: t.composeTextVars($themeVars, "#{$componentItem}-level-4");
$themeVars: t.composePaddingVars($themeVars, "#{$componentItem}-level-5");
$themeVars: t.composeTextVars($themeVars, "#{$componentItem}-level-5");
$themeVars: t.composePaddingVars($themeVars, "#{$componentItem}-level-6");
$themeVars: t.composeTextVars($themeVars, "#{$componentItem}-level-6");

// Variables for @layer section
$marginTop-TableOfContents: createThemeVar("marginTop-#{$component}");
$marginBottom-TableOfContents: createThemeVar("marginBottom-#{$component}");
$textColor-TableOfContentsItem: createThemeVar("textColor-#{$componentItem}");
$backgroundColor-TableOfContentsItem--hover: createThemeVar("backgroundColor-#{$componentItem}--hover");
$fontWeight-TableOfContentsItem--hover: createThemeVar("fontWeight-#{$componentItem}--hover");
$textColor-TableOfContentsItem--hover: createThemeVar("textColor-#{$componentItem}--hover");
$fontWeight-TableOfContentsItem-level-1--hover: createThemeVar("fontWeight-#{$componentItem}-level-1--hover");
$fontWeight-TableOfContentsItem-level-2--hover: createThemeVar("fontWeight-#{$componentItem}-level-2--hover");
$fontWeight-TableOfContentsItem-level-3--hover: createThemeVar("fontWeight-#{$componentItem}-level-3--hover");
$fontWeight-TableOfContentsItem-level-4--hover: createThemeVar("fontWeight-#{$componentItem}-level-4--hover");
$fontWeight-TableOfContentsItem-level-5--hover: createThemeVar("fontWeight-#{$componentItem}-level-5--hover");
$fontWeight-TableOfContentsItem-level-6--hover: createThemeVar("fontWeight-#{$componentItem}-level-6--hover");
$backgroundColor-TableOfContentsItem--active: createThemeVar("backgroundColor-#{$componentItem}--active");
$textColor-TableOfContentsItem--active: createThemeVar("textColor-#{$componentItem}--active");
$fontWeight-TableOfContentsItem--active: createThemeVar("fontWeight-#{$componentItem}--active");
$fontWeight-TableOfContentsItem-level-1--active: createThemeVar("fontWeight-#{$componentItem}-level-1--active");
$fontWeight-TableOfContentsItem-level-2--active: createThemeVar("fontWeight-#{$componentItem}-level-2--active");
$fontWeight-TableOfContentsItem-level-3--active: createThemeVar("fontWeight-#{$componentItem}-level-3--active");
$fontWeight-TableOfContentsItem-level-4--active: createThemeVar("fontWeight-#{$componentItem}-level-4--active");
$fontWeight-TableOfContentsItem-level-5--active: createThemeVar("fontWeight-#{$componentItem}-level-5--active");
$fontWeight-TableOfContentsItem-level-6--active: createThemeVar("fontWeight-#{$componentItem}-level-6--active");

@layer components {
  .nav {
    border-width: createThemeVar("borderWidth-#{$component}");
    border-color: createThemeVar("borderColor-#{$component}");
    border-style: createThemeVar("borderStyle-#{$component}");
    @include t.borderVars($themeVars, $component);
    @include t.paddingVars($themeVars, $component);
    background-color: $backgroundColor-TableOfContents;
    min-width: 250px;
    align-self: flex-start;
    width: $width-TableOfContents;
    height: $height-TableOfContents;
    max-height: calc(100vh - var(--header-abs-height) - var(--footer-abs-height));
    overflow-y: auto;
    overflow-x: hidden;
    z-index: 99;
    top: var(--header-height);
    position: sticky;
    scrollbar-width: thin;
    // --- Do not collapse these padding properties; they are intentionally expanded
    margin-top: $marginTop-TableOfContents;
    margin-bottom: $marginBottom-TableOfContents;

    .list {
      margin: 0;
      padding: 0;
      list-style: none;

      .listItem {
        list-style-type: none;
        @include t.borderVars($themeVars, $componentItem);

        .link {
          display: block;
          overflow-wrap: break-word;
          color: $textColor-TableOfContentsItem;
          @include t.paddingVars($themeVars, $componentItem);
          @include t.textVars($themeVars, $componentItem);

          &.head_1 {
            @include t.paddingVars($themeVars, "#{$componentItem}-level-1");
            @include t.textVars($themeVars, "#{$componentItem}-level-1");
          }

          &.head_2 {
            @include t.paddingVars($themeVars, "#{$componentItem}-level-2");
            @include t.textVars($themeVars, "#{$componentItem}-level-2");
          }

          &.head_3 {
            @include t.paddingVars($themeVars, "#{$componentItem}-level-3");
            @include t.textVars($themeVars, "#{$componentItem}-level-3");
          }

          &.head_4 {
            @include t.paddingVars($themeVars, "#{$componentItem}-level-4");
            @include t.textVars($themeVars, "#{$componentItem}-level-4");
          }

          &.head_5 {
            @include t.paddingVars($themeVars, "#{$componentItem}-level-5");
            @include t.textVars($themeVars, "#{$componentItem}-level-5");
          }

          &.head_6 {
            @include t.paddingVars($themeVars, "#{$componentItem}-level-6");
            @include t.textVars($themeVars, "#{$componentItem}-level-6");
          }
        }

        &:hover {
          @include t.borderVars($themeVars, "#{$componentItem}--hover");
          background-color: $backgroundColor-TableOfContentsItem--hover;

          .link {
            font-weight: $fontWeight-TableOfContentsItem--hover;
            color: $textColor-TableOfContentsItem--hover;

            &.head_1 {
              font-weight: $fontWeight-TableOfContentsItem-level-1--hover;
            }
            &.head_2 {
              font-weight: $fontWeight-TableOfContentsItem-level-2--hover;
            }
            &.head_3 {
              font-weight: $fontWeight-TableOfContentsItem-level-3--hover;
            }
            &.head_4 {
              font-weight: $fontWeight-TableOfContentsItem-level-4--hover;
            }
            &.head_5 {
              font-weight: $fontWeight-TableOfContentsItem-level-5--hover;
            }
            &.head_6 {
              font-weight: $fontWeight-TableOfContentsItem-level-6--hover;
            }
          }
        }

        &.active {
          @include t.borderVars($themeVars, "#{$componentItem}--active");
          background-color: $backgroundColor-TableOfContentsItem--active;

          .link {
            color: $textColor-TableOfContentsItem--active;
            font-weight: $fontWeight-TableOfContentsItem--active;

            &.head_1 {
              font-weight: $fontWeight-TableOfContentsItem-level-1--active;
            }
            &.head_2 {
              font-weight: $fontWeight-TableOfContentsItem-level-2--active;
            }
            &.head_3 {
              font-weight: $fontWeight-TableOfContentsItem-level-3--active;
            }
            &.head_4 {
              font-weight: $fontWeight-TableOfContentsItem-level-4--active;
            }
            &.head_5 {
              font-weight: $fontWeight-TableOfContentsItem-level-5--active;
            }
            &.head_6 {
              font-weight: $fontWeight-TableOfContentsItem-level-6--active;
            }
          }
        }
      }
    }
  }
}

:export {
  themeVars: t.json-stringify($themeVars);
}
