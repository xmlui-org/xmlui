%-DESC-START

## Using the Component

<Callout type="info" emoji="ðŸ“”">
When using the examples in this article, pop them out to the full screen to check how they work.
</Callout>

Opening and closing the modal dialog can be done in two ways depending on circumstances.

### With Imperative API

Event-driven display of the `ModalDialog` dialog is also possible using imperative API.

This method is a good way to toggle the display of the `ModalDialog` if no deep linking is necessary.
It also lends to itself that these events can be triggered programmatically from codebehind.

Note the `id` property of the `ModalDialog` in the example below and how it is used to call the [`open`](#open-api) and [`close`](#close-api)
operations of the component in the `onClick` event handlers.

```ueml copy
<App height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" title="Example Dialog">
    <Button label="Close Dialog" onClick="dialog.close()" />
  </ModalDialog>
</App>
```

<Playground
  name="Example: imperative API"
  height={120}
  app={`
  <App height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" title="Example Dialog">
      <Button label="Close Dialog" onClick="dialog.close()" />
    </ModalDialog>
  </App>
  `}
/>

<Callout type="info" emoji="ðŸ“”">
The imperative approach is perhaps the most intuitive way to display and hide modal dialogs.
</Callout>

### With `when`

The `when` property accepts a primitive boolean or a binding expression resolving to a boolean value to toggle the display of a component.

Using the `when` property in a `ModalDialog` dialog component is commonly used with deep linking:
showing the modal in conjunction with an updated URL so that the opened state of the modal dialog is referable.

```ueml copy /when="{isDialogShown}"/
<App height="100%" verticalAlignment="center" horizontalAlignment="center">
  <variable name="isDialogShown" value="{false}"/>
  <Button label="Open Dialog" onClick="isDialogShown = true" />
  <ModalDialog 
    when="{isDialogShown}" 
    title="Example Dialog" 
    onClose="isDialogShown = false" />
</App>
```

Click on the button in the demo below to open the modal dialog. Click anywhere outside the opened dialog or the close button to close it.

<Playground
  name="Example: when"
  height={120}
  app={`
  <App height="100%" verticalAlignment="center" horizontalAlignment="center">
    <variable name="isDialogShown" value="{false}"/>
    <Button label="Open Dialog" onClick="isDialogShown = true" />
    <ModalDialog when="{isDialogShown}" title="Example Dialog" onClose="isDialogShown = false" />
  </App>
  `}
/>

Setting the `when` property is the most straightforward way for deep-linked modals. If you use deep links with query parameters to show a particular dialog, you can set the `when` property to show or hide the dialog according to parameter values.

### The `ModalDialog` as a Container

The `ModalDialog` component is also a container such as the [`Card`](./Card.mdx), that it also accepts child components.

```ueml copy {3-8}
<App height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" title="Example Dialog">
    <Form data="{{ firstName: 'Billy', lastName: 'Bob' }}">
      <FormItem bindTo="firstName" required="true" />
      <FormItem bindTo="lastName" required="true" />
    </Form>
  </ModalDialog>
</App>
```

<Playground
  name="Example: children"
  height={120}
  app={`
  <App height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" title="Example Dialog">
      <Form data="{{ firstName: 'Billy', lastName: 'Bob' }}">
        <FormItem bindTo="firstName" required="true" />
        <FormItem bindTo="lastName" required="true" />
      </Form>
    </ModalDialog>
  </App>
  `}
/>

<Callout type="info" emoji="ðŸ“”">
When a form is nested into a modal dialog, closing the form (canceling it or completing its submit action) automatically closes the dialog.
</Callout>

%-DESC-END

%-PROP-START fullScreen

```ueml copy /fullScreen="true"/
<App height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" fullScreen="true" title="Example Dialog" />
</App>
```

Click the button to display a full-screen dialog. The icon at the top-right corner of the dialog allows you to close it.

<Playground
  name="Example: fullScreen"
  height={120}
  app={`
  <App height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" fullScreen="true" title="Example Dialog" />
  </App>
  `}
/>

%-PROP-END

%-PROP-START title

```ueml copy {3}
<App height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" title="Example Title" />
</App>
```

<Playground
  name="Example: title"
  height={120}
  app={`
  <App height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" title="Example Title" />
  </App>
  `}
/>

%-PROP-END

%-PROP-START closeButtonVisible

```ueml copy /closeButtonVisible="false"/
<App height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" closeButtonVisible="false" title="Example Dialog" />
</App>
```

Click outside the dialog to close it.

<Playground
  name="Example: closeButtonVisible"
  height={120}
  app={`
  <App height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" closeButtonVisible="false" title="Example Dialog" />
  </App>
  `}
/>

%-PROP-END

%-EVENT-START close

In this example, the `close` event counts how many times you closed the dialog:

```ueml copy {6-8}
<App height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="myDialog.open()" />
  <ModalDialog
    id="myDialog"
    title="Example Dialog"
    var.counter="{0}"
    onClose="counter++">
    <Text value="Dialog closed {counter} number of times." />
  </ModalDialog>
</App>
```

Open and close the dialog several times to test that it changes the counter.

<Playground
  name="Example: open/close events"
  height={120}
  app={`
  <App height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="myDialog.open()" />
    <ModalDialog
      id="myDialog"
      title="Example Dialog"
      var.counter="{0}"
      onClose="counter++">
      <Text value="Dialog closed {counter} number of times." />
    </ModalDialog>
  </App>
  `}
/>

%-EVENT-END

%-EVENT-START open

In this example, the `open` event counts how many times you opened the dialog:

```ueml copy {6-8}
<App height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="myDialog.open()" />
  <ModalDialog
    id="myDialog"
    title="Example Dialog"
    var.counter="{0}"
    onOpen="counter++">
    <Text value="Dialog opened {counter} number of times." />
  </ModalDialog>
</App>
```

Open and close the dialog several times to test that it changes the counter.

<Playground
  name="Example: open/close events"
  height={120}
  app={`
  <App height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="myDialog.open()" />
    <ModalDialog
      id="myDialog"
      title="Example Dialog"
      var.counter="{0}"
      onOpen="counter++">
      <Text value="Dialog opened {counter} number of times." />
    </ModalDialog>
  </App>
  `}
/>

%-EVENT-END

%-API-START open

See the [\`With Imperative API\`](#with-imperative-api) subsection for an example.

%-API-END

%-API-START close

See the [\`With Imperative API\`](#with-imperative-api) subsection for an example.

%-API-END

%-STYLE-START

The `ModalDialog` component uses these theme variables to customize its appearance:

- `backgroundColor`
- `backgroundColor-overlay`
- `color-text`
- `fontFamily`
- `height`
- `marginBottom-title`
- `marginTop`,
- `maxWidth`
- `minWidth`
- `padding` (including all `padding` variants, such as `paddingLeft` and others)
- `padding-overlay` (including all `padding` variants, such as `paddingLeft` and others)
- `borderRadius`

%-STYLE-END
