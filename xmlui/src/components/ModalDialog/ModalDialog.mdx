%-DESC-START

## Using the Component

Opening and closing the modal dialog can be done in two ways depending on circumstances.

### With Imperative API

Event-driven display of the `ModalDialog` dialog is also possible using imperative API.

This method is a good way to toggle the display of the `ModalDialog` if no deep linking is necessary.
It also lends to itself that these events can be triggered programmatically from codebehind.

Note the `id` property of the `ModalDialog` in the example below and how it is used to call the [`open`](#open-api) and [`close`](#close-api) 
operations of the component in the `onClick` event handlers.

```ueml copy 
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" title="Example Dialog">
      <Button label="Close Dialog" onClick="dialog.close()" />
    </ModalDialog>
  </Stack>
```

<Playground
  name="Example: imperative API"
  previewOnly
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" title="Example Dialog">
      <Button label="Close Dialog" onClick="dialog.close()" />
    </ModalDialog>
  </Stack>
  `}
/>

> **Note**: The imperative approach is perhaps the most intuitive way to display and hide modal dialogs.

### With `when`

The `when` property accepts a primitive boolean or a binding expression resolving to a boolean value to toggle the display of a component.

Using the `when` property in a `ModalDialog` dialog component is commonly used with deep linking:
showing the modal in conjunction with an updated URL so that the opened state of the modal dialog is referable.

```ueml copy /when="{isDialogShown}"/
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <var name="isDialogShown" value="{false}"/>
  <Button label="Open Dialog" onClick="isDialogShown = true" />
  <ModalDialog when="{isDialogShown}" title="Example Dialog" onClose="isDialogShown = false" />
</Stack>
```

Click on the button in the demo below to open the modal dialog. Click anywhere outside the opened dialog or the close button to close it.

<Playground
  name="Example: when"
  previewOnly
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <var name="isDialogShown" value="{false}"/>
    <Button label="Open Dialog" onClick="isDialogShown = true" />
    <ModalDialog when="{isDialogShown}" title="Example Dialog" onClose="isDialogShown = false" />
  </Stack>
  `}
/>

Setting the `when` property is the most straightforward way for deep-linked modals. If you use deep links with query parameters to show a particular dialog, you can set the `when` property to show or hide the dialog according to parameter values.

### As Request Confirmation

The `ModalDialog` is also used for confirming certain actions such as API requests.

The example below shows that the `ApiBinding` component has a number of confirmation dialog related properties.
Setting one of these properties (highlighted in example) enable the `ModalDialog` to appear if the `Button` is clicked.

```ueml copy {6-8}
<Button>Delete
  <event name="click">
    <ApiBinding
      url="/drives/{$driveId}"
      method="delete"
      confirmationMessageTitle="Remove Drive"
      confirmationMessage="Are you sure you want to remove this drive and all of its information?"
      actionButtonLabel="Remove" />
  </event>
</Button>
```

### The `ModalDialog` as a Container

The `ModalDialog` component is also a container such as the [`Card`](./Card.mdx), that it also accepts child components.

```ueml copy {4-9}
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" title="Example Dialog">
    <Form subject="{{ firstName: 'Billy', lastName: 'Bob' }}" 
      onCancel="dialog.close()" 
      onSubmit="dialog.close()">
      <FormItem bindTo="firstName" required="true" />
      <FormItem bindTo="lastName" required="true" />
    </Form>
  </ModalDialog>
</Stack>
```

<Playground
  name="Example: children"
  previewOnly
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" title="Example Dialog">
      <Form subject="{{ firstName: 'Billy', lastName: 'Bob' }}" 
        onCancel="dialog.close()" 
        onSubmit="dialog.close()">
        <FormItem bindTo="firstName" required="true" />
        <FormItem bindTo="lastName" required="true" />
      </Form>
    </ModalDialog>
  </Stack>
  `}
/>

%-DESC-END

%-PROP-START fullScreen

```ueml copy /fullScreen="true"/
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" fullScreen="true" title="Example Dialog" />
</Stack>
```

Click the button to display a full-screen dialog. The icon at the top-right corner of the dialog allows you to close it.

<Playground
  name="Example: fullScreen"
  previewOnly
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" fullScreen="true" title="Example Dialog" />
  </Stack>
  `}
/>

%-PROP-END

%-PROP-START title

```ueml copy /title="Example Dialog"/
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" title="Example Dialog" />
</Stack>
```

<Playground
  name="Example: title"
  previewOnly
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" title="Example Dialog" />
  </Stack>
  `}
/>

%-PROP-END

%-PROP-START isInitiallyOpen

```ueml copy {4}
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog
    isInitiallyOpen="true"
    id="dialog"
    title="Example Dialog"
  />
</Stack>
```

%-PROP-END

%-PROP-START closeButtonVisible

```ueml copy /closeButtonVisible="false"/
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="dialog.open()" />
  <ModalDialog id="dialog" closeButtonVisible="false" title="Example Dialog" />
</Stack>
```

Click outside the dialog to close it.

<Playground
  name="Example: closeButtonVisible"
  previewOnly
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="dialog.open()" />
    <ModalDialog id="dialog" closeButtonVisible="false" title="Example Dialog" />
  </Stack>
  `}
/>

%-PROP-END

%-EVENT-START close

> For the API method of the same name, see `close` under the `Api` section.

In this example, the `close` event counts how many times you closed the dialog:

```ueml copy {6-8}
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="myDialog.open()" />
  <ModalDialog
    id="myDialog"
    title="Example Dialog"
    var.counter="{0}"
    onClose="counter++">
    <Text value="Dialog closed {counter} number of times." />
  </ModalDialog>
</Stack>
```

Open and close the dialog several times to test that it changes the counter.

<Playground
  name="Example: open/close events"
  previewOnly
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="myDialog.open()" />
    <ModalDialog
      id="myDialog"
      title="Example Dialog"
      var.counter="{0}"
      onClose="counter++">
      <Text value="Dialog closed {counter} number of times." />
    </ModalDialog>
  </Stack>
  `}
/>

%-EVENT-END

%-EVENT-START open

> For the API method of the same name, see `open` under the `Api` section.

In this example, the `open` event counts how many times you opened the dialog:

```ueml copy {6-8}
<Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
  <Button label="Open Dialog" onClick="myDialog.open()" />
  <ModalDialog
    id="myDialog"
    title="Example Dialog"
    var.counter="{0}"
    onOpen="counter++">
    <Text value="Dialog opened {counter} number of times." />
  </ModalDialog>
</Stack>
```

Open and close the dialog several times to test that it changes the counter.

<Playground
  name="Example: open/close events"
  previewOnly
  height={120}
  app={`
  <Stack height="100%" verticalAlignment="center" horizontalAlignment="center">
    <Button label="Open Dialog" onClick="myDialog.open()" />
    <ModalDialog
      id="myDialog"
      title="Example Dialog"
      var.counter="{0}"
      onOpen="counter++">
      <Text value="Dialog opened {counter} number of times." />
    </ModalDialog>
  </Stack>
  `}
/>

%-EVENT-END

%-API-START open

See the [\`With Imperative API\`](#with-imperative-api) subsection for an example.

> For the event of the same name, see \`open\` under the \`Event\` section.

%-API-END

%-API-START close

See the [\`With Imperative API\`](#with-imperative-api) subsection for an example.

> For the event of the same name, see \`close\` under the \`Event\` section.

%-API-END

%-STYLE-START

The `ModalDialog` component uses these theme variables to customize its appearance:

- `color-bg`
- `color-bg-overlay`
- `color-text`
- `font-family`
- `height`
- `margin-bottom-title`
- `margin-top`,
- `max-width`
- `min-width`
- `padding` (including all `padding` variants, such as `padding-left` and others)
- `padding-overlay` (including all `padding` variants, such as `padding-left` and others)
- `radius`

%-STYLE-END
