<App>
  <DataSource
    id="sqlData"
    url="/query"
    method="POST"
    dataType="sql"
    body="{{
      sql: 'SELECT * FROM clients'
    }}"
  />

  <VStack width="100%" padding="20px" gap="20px">
    <H2>SQL Client Data</H2>

    <!-- Simple status messaging -->
    <Card padding="10px" backgroundColor="{sqlData.inProgress ? '#f0f0f0' : (sqlData.error ? '#ffdddd' : '#ddffdd')}">
      <Text>
        {sqlData.inProgress ? 'Loading...' :
         (sqlData.error ? 'Error: ' + sqlData.error.message :
          (sqlData.value ? 'Data loaded successfully' : 'No data loaded yet'))}
      </Text>
    </Card>

    <!-- Directly display data using the pattern from the invoices app -->
    <Table
      data="{sqlData.value}"
      striped="true"
      bordered="true">
      <Column bindTo="id" />
      <Column bindTo="name" />
      <Column bindTo="email" />
      <Column bindTo="phone" />
    </Table>
  </VStack>
</App>